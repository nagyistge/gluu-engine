version: 1

dn: inum=%(inumOrg)s!031C.4A65,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Id Generator script
displayName: id_generator
gluuStatus: false
inum: %(inumOrg)s!031C.4A65
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS5pZCBpbXBvcnQgS
 WRHZW5lcmF0b3JUeXBlCmZyb20gb3JnLnhkaS51dGlsIGltcG9ydCBTdHJpbmdIZWxwZXIsIEFy
 cmF5SGVscGVyCmZyb20gamF2YS51dGlsIGltcG9ydCBBcnJheXMsIEFycmF5TGlzdAoKaW1wb3J
 0IGphdmEKCmNsYXNzIElkR2VuZXJhdG9yKElkR2VuZXJhdG9yVHlwZSk6CiAgICBkZWYgX19pbm
 l0X18oc2VsZiwgY3VycmVudFRpbWVNaWxsaXMpOgogICAgICAgIHNlbGYuY3VycmVudFRpbWVNa
 WxsaXMgPSBjdXJyZW50VGltZU1pbGxpcwoKICAgIGRlZiBpbml0KHNlbGYsIGNvbmZpZ3VyYXRp
 b25BdHRyaWJ1dGVzKToKICAgICAgICBwcmludCAiSWQgZ2VuZXJhdG9yLiBJbml0aWFsaXphdGl
 vbiIKICAgICAgICBwcmludCAiSWQgZ2VuZXJhdG9yLiBJbml0aWFsaXplZCBzdWNjZXNzZnVsbH
 kiCgogICAgICAgIHJldHVybiBUcnVlICAgCgogICAgZGVmIGRlc3Ryb3koc2VsZiwgY29uZmlnd
 XJhdGlvbkF0dHJpYnV0ZXMpOgogICAgICAgIHByaW50ICJJZCBnZW5lcmF0b3IuIERlc3Ryb3ki
 CiAgICAgICAgcHJpbnQgIklkIGdlbmVyYXRvci4gRGVzdHJveWVkIHN1Y2Nlc3NmdWxseSIKICA
 gICAgICByZXR1cm4gVHJ1ZSAgIAoKICAgIGRlZiBnZXRBcGlWZXJzaW9uKHNlbGYpOgogICAgIC
 AgIHJldHVybiAxCgogICAgIyBJZCBnZW5lcmF0b3IgaW5pdCBtZXRob2QKICAgICMgICBhcHBJZ
 CBpcyBhcHBsaWNhdGlvbiBJZAogICAgIyAgIGlkVHlwZSBpcyBJZCBUeXBlCiAgICAjICAgaWRQ
 cmVmaXggaXMgSWQgUHJlZml4CiAgICAjICAgdXNlciBpcyBvcmcuZ2x1dS5veHRydXN0Lm1vZGV
 sLkdsdXVDdXN0b21QZXJzb24KICAgICMgICBjb25maWd1cmF0aW9uQXR0cmlidXRlcyBpcyBqYX
 ZhLnV0aWwuTWFwPFN0cmluZywgU2ltcGxlQ3VzdG9tUHJvcGVydHk+CiAgICBkZWYgZ2VuZXJhd
 GVJZChzZWxmLCBhcHBJZCwgaWRUeXBlLCBpZFByZWZpeCwgY29uZmlndXJhdGlvbkF0dHJpYnV0
 ZXMpOgogICAgICAgIHByaW50ICJJZCBnZW5lcmF0b3IuIEdlbmVyYXRlIElkIgogICAgICAgIHB
 yaW50ICJJZCBnZW5lcmF0b3IuIEdlbmVyYXRlIElkLiBBcHBJZDogJyIsIGFwcElkLCAiJywgSW
 RUeXBlOiAnIiwgaWRUeXBlLCAiJywgSWRQcmVmaXg6ICciLCBpZFByZWZpeCwgIiciCgogICAgI
 CAgICMgUmV0dXJuIE5vbmUgb3IgZW1wdHkgc3RyaW5nIHRvIHRyaWdnZXIgZGVmYXVsdCBJZCBn
 ZW5lcmF0aW9uIG1ldGhvZAogICAgICAgIHJldHVybiBOb25lCg==
oxScriptType: id_generator
programmingLanguage: python

dn: inum=%(inumOrg)s!13D3.E7AD,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Cache Refresh script
displayName: cache_refresh
gluuStatus: false
inum: %(inumOrg)s!13D3.E7AD
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS51c2VyIGltcG9yd
 CBDYWNoZVJlZnJlc2hUeXBlDQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3RyaW5nSGVscGVy
 LCBBcnJheUhlbHBlcg0KZnJvbSBqYXZhLnV0aWwgaW1wb3J0IEFycmF5cywgQXJyYXlMaXN0DQp
 mcm9tIG9yZy5nbHV1Lm94dHJ1c3QubW9kZWwgaW1wb3J0IEdsdXVDdXN0b21BdHRyaWJ1dGUNCg
 0KaW1wb3J0IGphdmENCg0KY2xhc3MgQ2FjaGVSZWZyZXNoKENhY2hlUmVmcmVzaFR5cGUpOg0KI
 CAgIGRlZiBfX2luaXRfXyhzZWxmLCBjdXJyZW50VGltZU1pbGxpcyk6DQogICAgICAgIHNlbGYu
 Y3VycmVudFRpbWVNaWxsaXMgPSBjdXJyZW50VGltZU1pbGxpcw0KDQogICAgZGVmIGluaXQoc2V
 sZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiQ2FjaGUgcmVmcm
 VzaC4gSW5pdGlhbGl6YXRpb24iDQogICAgICAgIHByaW50ICJDYWNoZSByZWZyZXNoLiBJbml0a
 WFsaXplZCBzdWNjZXNzZnVsbHkiDQoNCiAgICAgICAgcmV0dXJuIFRydWUgICANCg0KICAgIGRl
 ZiBkZXN0cm95KHNlbGYsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICAgICAgcHJpbnQ
 gIkNhY2hlIHJlZnJlc2guIERlc3Ryb3kiDQogICAgICAgIHByaW50ICJDYWNoZSByZWZyZXNoLi
 BEZXN0cm95ZWQgc3VjY2Vzc2Z1bGx5Ig0KICAgICAgICByZXR1cm4gVHJ1ZSAgIA0KDQogICAgI
 yBVcGRhdGUgdXNlciBlbnRyeSBiZWZvcmUgcGVyc2lzdCBpdA0KICAgICMgICB1c2VyIGlzIG9y
 Zy5nbHV1Lm94dHJ1c3QubW9kZWwuR2x1dUN1c3RvbVBlcnNvbg0KICAgICMgICBjb25maWd1cmF
 0aW9uQXR0cmlidXRlcyBpcyBqYXZhLnV0aWwuTWFwPFN0cmluZywgU2ltcGxlQ3VzdG9tUHJvcG
 VydHk+DQogICAgZGVmIHVwZGF0ZVVzZXIoc2VsZiwgdXNlciwgY29uZmlndXJhdGlvbkF0dHJpY
 nV0ZXMpOg0KICAgICAgICBwcmludCAiQ2FjaGUgcmVmcmVzaC4gVXBkYXRlVXNlciBtZXRob2Qi
 DQoNCiAgICAgICAgYXR0cmlidXRlcyA9IHVzZXIuZ2V0Q3VzdG9tQXR0cmlidXRlcygpDQoNCiA
 gICAgICAgIyBBZGQgbmV3IGF0dHJpYnV0ZSBwcmVmZXJyZWRMYW5ndWFnZQ0KICAgICAgICBhdH
 RyUHJlZmZlcmVkTGFuZ3VhZ2UgPSBHbHV1Q3VzdG9tQXR0cmlidXRlKCJwcmVmZXJyZWRMYW5nd
 WFnZSIsICJlbi11cyIpDQogICAgICAgIGF0dHJpYnV0ZXMuYWRkKGF0dHJQcmVmZmVyZWRMYW5n
 dWFnZSkNCg0KICAgICAgICAjIEFkZCBuZXcgYXR0cmlidXRlIHVzZXJQYXNzd29yZA0KICAgICA
 gICBhdHRyVXNlclBhc3N3b3JkID0gR2x1dUN1c3RvbUF0dHJpYnV0ZSgidXNlclBhc3N3b3JkIi
 wgInRlc3QiKQ0KICAgICAgICBhdHRyaWJ1dGVzLmFkZChhdHRyVXNlclBhc3N3b3JkKQ0KDQogI
 CAgICAgICMgVXBkYXRlIGdpdmVuTmFtZSBhdHRyaWJ1dGUNCiAgICAgICAgZm9yIGF0dHJpYnV0
 ZSBpbiBhdHRyaWJ1dGVzOg0KICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyaWJ1dGUuZ2V0TmF
 tZSgpDQogICAgICAgICAgICBpZiAoKCJnaXZlbm5hbWUiID09IFN0cmluZ0hlbHBlci50b0xvd2
 VyQ2FzZShhdHRyTmFtZSkpIGFuZCBTdHJpbmdIZWxwZXIuaXNOb3RFbXB0eShhdHRyaWJ1dGUuZ
 2V0VmFsdWUoKSkpOg0KICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zZXRWYWx1ZShTdHJpbmdI
 ZWxwZXIucmVtb3ZlTXVsdGlwbGVTcGFjZXMoYXR0cmlidXRlLmdldFZhbHVlKCkpICsgIiAodXB
 kYXRlZCkiKQ0KDQogICAgICAgIHJldHVybiBUcnVlDQoNCiAgICBkZWYgZ2V0QXBpVmVyc2lvbi
 hzZWxmKToNCiAgICAgICAgcmV0dXJuIDENCg==
oxScriptType: cache_refresh
programmingLanguage: python

dn: inum=%(inumOrg)s!2DAF.F995,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample UMA Authorization policy
displayName: uma_autorization_policy
gluuStatus: false
inum: %(inumOrg)s!2DAF.F995
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS51bWEgaW1wb3J0I
 EF1dGhvcml6YXRpb25Qb2xpY3lUeXBlDQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3RyaW5n
 SGVscGVyLCBBcnJheUhlbHBlcg0KZnJvbSBqYXZhLnV0aWwgaW1wb3J0IEFycmF5cywgQXJyYXl
 MaXN0DQpmcm9tIG9yZy54ZGkub3hhdXRoLnNlcnZpY2UudW1hLmF1dGhvcml6YXRpb24gaW1wb3
 J0IEF1dGhvcml6YXRpb25Db250ZXh0DQoNCmltcG9ydCBqYXZhDQoNCmNsYXNzIEF1dGhvcml6Y
 XRpb25Qb2xpY3koQXV0aG9yaXphdGlvblBvbGljeVR5cGUpOg0KICAgIGRlZiBfX2luaXRfXyhz
 ZWxmLCBjdXJyZW50VGltZU1pbGxpcyk6DQogICAgICAgIHNlbGYuY3VycmVudFRpbWVNaWxsaXM
 gPSBjdXJyZW50VGltZU1pbGxpcw0KDQogICAgZGVmIGluaXQoc2VsZiwgY29uZmlndXJhdGlvbk
 F0dHJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiVU1BIGF1dGhvcml6YXRpb24gcG9saWN5LiBJb
 ml0aWFsaXphdGlvbiINCiAgICAgICAgcHJpbnQgIlVNQSBhdXRob3JpemF0aW9uIHBvbGljeS4g
 SW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Ig0KDQogICAgICAgIHJldHVybiBUcnVlICAgDQoNCiA
 gICBkZWYgZGVzdHJveShzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcyk6DQogICAgICAgIH
 ByaW50ICJVTUEgYXV0aG9yaXphdGlvbiBwb2xpY3kuIERlc3Ryb3kiDQogICAgICAgIHByaW50I
 CJVTUEgYXV0aG9yaXphdGlvbiBwb2xpY3kuIERlc3Ryb3llZCBzdWNjZXNzZnVsbHkiDQogICAg
 ICAgIHJldHVybiBUcnVlICAgDQoNCiAgICBkZWYgZ2V0QXBpVmVyc2lvbihzZWxmKToNCiAgICA
 gICAgcmV0dXJuIDENCg0KICAgICMgVXBkYXRlIHVzZXIgZW50cnkgYmVmb3JlIHBlcnNpc3Rlbn
 QgaXQNCiAgICAjICAgdXNlciBpcyBvcmcuZ2x1dS5veHRydXN0Lm1vZGVsLkdsdXVDdXN0b21QZ
 XJzb24NCiAgICAjICAgcGVyc2lzdGVkIGlzIGJvb2xlYW4gdmFsdWUgdG8gc3BlY2lmeSBpZiBv
 cGVyYXRpb24gdHlwZTogYWRkL21vZGlmeQ0KICAgICMgICBjb25maWd1cmF0aW9uQXR0cmlidXR
 lcyBpcyBqYXZhLnV0aWwuTWFwPFN0cmluZywgU2ltcGxlQ3VzdG9tUHJvcGVydHk+DQogICAgZG
 VmIGF1dGhvcml6ZShzZWxmLCBhdXRob3JpemF0aW9uQ29udGV4dCwgY29uZmlndXJhdGlvbkF0d
 HJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiVU1BIEF1dGhvcml6YXRpb24gcG9saWN5LiBBdHRl
 bXB0aW5nIHRvIGF1dGhvcml6ZSBjbGllbnQiDQogICAgICAgIGNsaWVudF9pZCA9IGF1dGhvcml
 6YXRpb25Db250ZXh0LmdldEdyYW50KCkuZ2V0Q2xpZW50SWQoKQ0KDQogICAgICAgIHByaW50IC
 JVTUEgQXV0aG9yaXphdGlvbiBwb2xpY3kuIENsaWVudDogIiwgY2xpZW50X2lkDQogICAgICAgI
 GlmIChTdHJpbmdIZWxwZXIuZXF1YWxzSWdub3JlQ2FzZSgiQCExMTExITAwMDghRkRDMC4wRkY1
 IiwgY2xpZW50X2lkKSk6DQogICAgICAgICAgICBwcmludCAiVU1BIEF1dGhvcml6YXRpb24gcG9
 saWN5LiBBdXRob3JpemluZyBjbGllbnQiDQogICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgIC
 AgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQgIlVNQSBBdXRob3JpemF0aW9uIHBvbGljeS4gQ
 2xpZW50IGlzbid0IGF1dGhvcml6ZWQiDQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAg
 ICAgICBwcmludCAiVU1BIEF1dGhvcml6YXRpb24gcG9saWN5LiBBdXRob3JpemluZyBjbGllbnQ
 iDQogICAgICAgIHJldHVybiBUcnVlDQo=
oxScriptType: uma_authorization_policy
programmingLanguage: python

dn: inum=%(inumOrg)s!522F.CDC5,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Update User script
displayName: update_user
gluuStatus: false
inum: %(inumOrg)s!522F.CDC5
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS51c2VyIGltcG9yd
 CBVcGRhdGVVc2VyVHlwZQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3RyaW5nSGVscGVyLCBB
 cnJheUhlbHBlcgpmcm9tIGphdmEudXRpbCBpbXBvcnQgQXJyYXlzLCBBcnJheUxpc3QKCmltcG9
 ydCBqYXZhCgpjbGFzcyBVcGRhdGVVc2VyKFVwZGF0ZVVzZXJUeXBlKToKICAgIGRlZiBfX2luaX
 RfXyhzZWxmLCBjdXJyZW50VGltZU1pbGxpcyk6CiAgICAgICAgc2VsZi5jdXJyZW50VGltZU1pb
 GxpcyA9IGN1cnJlbnRUaW1lTWlsbGlzCgogICAgZGVmIGluaXQoc2VsZiwgY29uZmlndXJhdGlv
 bkF0dHJpYnV0ZXMpOgogICAgICAgIHByaW50ICJVcGRhdGUgdXNlci4gSW5pdGlhbGl6YXRpb24
 iCiAgICAgICAgcHJpbnQgIlVwZGF0ZSB1c2VyLiBJbml0aWFsaXplZCBzdWNjZXNzZnVsbHkiCg
 ogICAgICAgIHJldHVybiBUcnVlICAgCgogICAgZGVmIGRlc3Ryb3koc2VsZiwgY29uZmlndXJhd
 GlvbkF0dHJpYnV0ZXMpOgogICAgICAgIHByaW50ICJVcGRhdGUgdXNlci4gRGVzdHJveSIKICAg
 ICAgICBwcmludCAiVXBkYXRlIHVzZXIuIERlc3Ryb3llZCBzdWNjZXNzZnVsbHkiCiAgICAgICA
 gcmV0dXJuIFRydWUgICAKCiAgICAjIFVwZGF0ZSB1c2VyIGVudHJ5IGJlZm9yZSBwZXJzaXN0ZW
 50IGl0CiAgICAjICAgdXNlciBpcyBvcmcuZ2x1dS5veHRydXN0Lm1vZGVsLkdsdXVDdXN0b21QZ
 XJzb24KICAgICMgICBwZXJzaXN0ZWQgaXMgYm9vbGVhbiB2YWx1ZSB0byBzcGVjaWZ5IGlmIG9w
 ZXJhdGlvbiB0eXBlOiBhZGQvbW9kaWZ5CiAgICAjICAgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXM
 gaXMgamF2YS51dGlsLk1hcDxTdHJpbmcsIFNpbXBsZUN1c3RvbVByb3BlcnR5PgogICAgZGVmIH
 VwZGF0ZVVzZXIoc2VsZiwgdXNlciwgcGVyc2lzdGVkLCBjb25maWd1cmF0aW9uQXR0cmlidXRlc
 yk6CiAgICAgICAgcHJpbnQgIlVwZGF0ZSB1c2VyLiBVcGRhdGVVc2VyIG1ldGhvZCIKCiAgICAg
 ICAgdWlkID0gdXNlci5nZXRVaWQoKQogICAgICAgIHByaW50ICJVcGRhdGUgdXNlci4gVXNlciB
 VaWQ6IiwgdWlkCiAgICAgICAgCiAgICAgICAgbWFpbCA9IHVpZCArICJAZXhhbXBsZS5vcmciCi
 AgICAgICAgdXNlci5zZXRNYWlsKG1haWwpCgogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmI
 GdldEFwaVZlcnNpb24oc2VsZik6CiAgICAgICAgcmV0dXJuIDEK
oxScriptType: update_user
programmingLanguage: python

dn: inum=%(inumOrg)s!6EA0.8F0C,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample User Registration script
displayName: user_registration
gluuStatus: false
inum: %(inumOrg)s!6EA0.8F0C
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS51c2VyIGltcG9yd
 CBVc2VyUmVnaXN0cmF0aW9uVHlwZQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3RyaW5nSGVs
 cGVyLCBBcnJheUhlbHBlcgpmcm9tIGphdmEudXRpbCBpbXBvcnQgQXJyYXlzLCBBcnJheUxpc3Q
 KCmltcG9ydCBqYXZhCgpjbGFzcyBVc2VyUmVnaXN0cmF0aW9uKFVzZXJSZWdpc3RyYXRpb25UeX
 BlKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjdXJyZW50VGltZU1pbGxpcyk6CiAgICAgICAgc
 2VsZi5jdXJyZW50VGltZU1pbGxpcyA9IGN1cnJlbnRUaW1lTWlsbGlzCgogICAgZGVmIGluaXQo
 c2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOgogICAgICAgIHByaW50ICJVc2VyIHJlZ2l
 zdHJhdGlvbi4gSW5pdGlhbGl6YXRpb24iCiAgICAgICAgcHJpbnQgIlVzZXIgcmVnaXN0cmF0aW
 9uLiBJbml0aWFsaXplZCBzdWNjZXNzZnVsbHkiCgogICAgICAgIHJldHVybiBUcnVlICAgCgogI
 CAgZGVmIGRlc3Ryb3koc2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOgogICAgICAgIHBy
 aW50ICJVc2VyIHJlZ2lzdHJhdGlvbi4gRGVzdHJveSIKICAgICAgICBwcmludCAiVXNlciByZWd
 pc3RyYXRpb24uIERlc3Ryb3llZCBzdWNjZXNzZnVsbHkiCiAgICAgICAgcmV0dXJuIFRydWUgIC
 AKCiAgICAjIFVzZXIgcmVnaXN0cmF0aW9uIGluaXQgbWV0aG9kCiAgICAjICAgdXNlciBpcyBvc
 mcuZ2x1dS5veHRydXN0Lm1vZGVsLkdsdXVDdXN0b21QZXJzb24KICAgICMgICByZXF1ZXN0UGFy
 YW1ldGVycyBpcyBqYXZhLnV0aWwuTWFwPFN0cmluZywgU3RyaW5nW10+CiAgICAjICAgY29uZml
 ndXJhdGlvbkF0dHJpYnV0ZXMgaXMgamF2YS51dGlsLk1hcDxTdHJpbmcsIFNpbXBsZUN1c3RvbV
 Byb3BlcnR5PgogICAgZGVmIGluaXRSZWdpc3RyYXRpb24oc2VsZiwgdXNlciwgcmVxdWVzdFBhc
 mFtZXRlcnMsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToKICAgICAgICBwcmludCAiVXNlciBy
 ZWdpc3RyYXRpb24uIEluaXQgbWV0aG9kIgoKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgICMgVXN
 lciByZWdpc3RyYXRpb24gcHJlIG1ldGhvZAogICAgIyAgIHVzZXIgaXMgb3JnLmdsdXUub3h0cn
 VzdC5tb2RlbC5HbHV1Q3VzdG9tUGVyc29uCiAgICAjICAgcmVxdWVzdFBhcmFtZXRlcnMgaXMga
 mF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZ1tdPgogICAgIyAgIGNvbmZpZ3VyYXRpb25BdHRy
 aWJ1dGVzIGlzIGphdmEudXRpbC5NYXA8U3RyaW5nLCBTaW1wbGVDdXN0b21Qcm9wZXJ0eT4KICA
 gIGRlZiBwcmVSZWdpc3RyYXRpb24oc2VsZiwgdXNlciwgcmVxdWVzdFBhcmFtZXRlcnMsIGNvbm
 ZpZ3VyYXRpb25BdHRyaWJ1dGVzKToKICAgICAgICBwcmludCAiVXNlciByZWdpc3RyYXRpb24uI
 FByZSBtZXRob2QiCgogICAgICAgIHJldHVybiBUcnVlCgogICAgIyBVc2VyIHJlZ2lzdHJhdGlv
 biBwb3N0IG1ldGhvZAogICAgIyAgIHVzZXIgaXMgb3JnLmdsdXUub3h0cnVzdC5tb2RlbC5HbHV
 1Q3VzdG9tUGVyc29uCiAgICAjICAgcmVxdWVzdFBhcmFtZXRlcnMgaXMgamF2YS51dGlsLk1hcD
 xTdHJpbmcsIFN0cmluZ1tdPgogICAgIyAgIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzIGlzIGphd
 mEudXRpbC5NYXA8U3RyaW5nLCBTaW1wbGVDdXN0b21Qcm9wZXJ0eT4KICAgIGRlZiBwb3N0UmVn
 aXN0cmF0aW9uKHNlbGYsIHVzZXIsIHJlcXVlc3RQYXJhbWV0ZXJzLCBjb25maWd1cmF0aW9uQXR
 0cmlidXRlcyk6CiAgICAgICAgcHJpbnQgIlVzZXIgcmVnaXN0cmF0aW9uLiBQb3N0IG1ldGhvZC
 IKCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgZ2V0QXBpVmVyc2lvbihzZWxmKToKICAgI
 CAgICByZXR1cm4gMQo=
oxScriptType: user_registration
programmingLanguage: python

dn: inum=%(inumOrg)s!A51E.76DA,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Authentication script
displayName: basic
gluuStatus: false
inum: %(inumOrg)s!A51E.76DA
oxLevel: 100
oxModuleProperty: {"value1":"usage_type","value2":"interactive","description
 ":""}
oxRevision: 1
oxScript:: ZnJvbSBvcmcuamJvc3Muc2VhbS5zZWN1cml0eSBpbXBvcnQgSWRlbnRpdHkNCmZyb
 20gb3JnLnhkaS5tb2RlbC5jdXN0b20uc2NyaXB0LnR5cGUuYXV0aCBpbXBvcnQgUGVyc29uQXV0
 aGVudGljYXRpb25UeXBlDQpmcm9tIG9yZy54ZGkub3hhdXRoLnNlcnZpY2UgaW1wb3J0IFVzZXJ
 TZXJ2aWNlDQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3RyaW5nSGVscGVyDQoNCmltcG9ydC
 BqYXZhDQoNCmNsYXNzIFBlcnNvbkF1dGhlbnRpY2F0aW9uKFBlcnNvbkF1dGhlbnRpY2F0aW9uV
 HlwZSk6DQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGN1cnJlbnRUaW1lTWlsbGlzKToNCiAgICAg
 ICAgc2VsZi5jdXJyZW50VGltZU1pbGxpcyA9IGN1cnJlbnRUaW1lTWlsbGlzDQoNCiAgICBkZWY
 gaW5pdChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcyk6DQogICAgICAgIHByaW50ICJCYX
 NpYy4gSW5pdGlhbGl6YXRpb24iDQogICAgICAgIHByaW50ICJCYXNpYy4gSW5pdGlhbGl6ZWQgc
 3VjY2Vzc2Z1bGx5Ig0KICAgICAgICByZXR1cm4gVHJ1ZSAgIA0KDQogICAgZGVmIGRlc3Ryb3ko
 c2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiQmFzaWMuIER
 lc3Ryb3kiDQogICAgICAgIHByaW50ICJCYXNpYy4gRGVzdHJveWVkIHN1Y2Nlc3NmdWxseSINCi
 AgICAgICAgcmV0dXJuIFRydWUNCg0KICAgIGRlZiBnZXRBcGlWZXJzaW9uKHNlbGYpOg0KICAgI
 CAgICByZXR1cm4gMQ0KDQogICAgZGVmIGlzVmFsaWRBdXRoZW50aWNhdGlvbk1ldGhvZChzZWxm
 LCB1c2FnZVR5cGUsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICAgICAgcmV0dXJuIFR
 ydWUNCg0KICAgIGRlZiBnZXRBbHRlcm5hdGl2ZUF1dGhlbnRpY2F0aW9uTWV0aG9kKHNlbGYsIH
 VzYWdlVHlwZSwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgICByZXR1cm4gTm9uZ
 Q0KDQogICAgZGVmIGF1dGhlbnRpY2F0ZShzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcywg
 cmVxdWVzdFBhcmFtZXRlcnMsIHN0ZXApOg0KICAgICAgICBpZiAoc3RlcCA9PSAxKToNCiAgICA
 gICAgICAgIHByaW50ICJCYXNpYy4gQXV0aGVudGljYXRlIGZvciBzdGVwIDEiDQoNCiAgICAgIC
 AgICAgIGNyZWRlbnRpYWxzID0gSWRlbnRpdHkuaW5zdGFuY2UoKS5nZXRDcmVkZW50aWFscygpD
 QogICAgICAgICAgICB1c2VyX25hbWUgPSBjcmVkZW50aWFscy5nZXRVc2VybmFtZSgpDQogICAg
 ICAgICAgICB1c2VyX3Bhc3N3b3JkID0gY3JlZGVudGlhbHMuZ2V0UGFzc3dvcmQoKQ0KDQogICA
 gICAgICAgICBsb2dnZWRfaW4gPSBGYWxzZQ0KICAgICAgICAgICAgaWYgKFN0cmluZ0hlbHBlci
 5pc05vdEVtcHR5U3RyaW5nKHVzZXJfbmFtZSkgYW5kIFN0cmluZ0hlbHBlci5pc05vdEVtcHR5U
 3RyaW5nKHVzZXJfcGFzc3dvcmQpKToNCiAgICAgICAgICAgICAgICB1c2VyU2VydmljZSA9IFVz
 ZXJTZXJ2aWNlLmluc3RhbmNlKCkNCiAgICAgICAgICAgICAgICBsb2dnZWRfaW4gPSB1c2VyU2V
 ydmljZS5hdXRoZW50aWNhdGUodXNlcl9uYW1lLCB1c2VyX3Bhc3N3b3JkKQ0KDQogICAgICAgIC
 AgICBpZiAobm90IGxvZ2dlZF9pbik6DQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNC
 iAgICAgICAgICAgIHJldHVybiBUcnVlDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICByZXR1
 cm4gRmFsc2UNCg0KICAgIGRlZiBwcmVwYXJlRm9yU3RlcChzZWxmLCBjb25maWd1cmF0aW9uQXR
 0cmlidXRlcywgcmVxdWVzdFBhcmFtZXRlcnMsIHN0ZXApOg0KICAgICAgICBpZiAoc3RlcCA9PS
 AxKToNCiAgICAgICAgICAgIHByaW50ICJCYXNpYy4gUHJlcGFyZSBmb3IgU3RlcCAxIg0KICAgI
 CAgICAgICAgcmV0dXJuIFRydWUNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHJldHVybiBG
 YWxzZQ0KDQogICAgZGVmIGdldEV4dHJhUGFyYW1ldGVyc0ZvclN0ZXAoc2VsZiwgY29uZmlndXJ
 hdGlvbkF0dHJpYnV0ZXMsIHN0ZXApOg0KICAgICAgICByZXR1cm4gTm9uZQ0KDQogICAgZGVmIG
 dldENvdW50QXV0aGVudGljYXRpb25TdGVwcyhzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlc
 yk6DQogICAgICAgIHJldHVybiAxDQoNCiAgICBkZWYgZ2V0UGFnZUZvclN0ZXAoc2VsZiwgY29u
 ZmlndXJhdGlvbkF0dHJpYnV0ZXMsIHN0ZXApOg0KICAgICAgICByZXR1cm4gIiINCg0KICAgIGR
 lZiBsb2dvdXQoc2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMsIHJlcXVlc3RQYXJhbWV0ZX
 JzKToNCiAgICAgICAgcmV0dXJuIFRydWUNCg==
oxScriptType: person_authentication
programmingLanguage: python

dn: inum=%(inumOrg)s!14AF.A70C,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
displayName: cas
gluuStatus: true
inum: %(inumOrg)s!14AF.A70C
oxConfigurationProperty: {"value1":"cas_map_user","value2":"true","description":""}
oxConfigurationProperty: {"value1":"cas_renew_opt","value2":"false","description":""}
oxConfigurationProperty: {"value1":"cas_host","value2":"https://%(ox_cluster_hostname)s/cas","description":""}
oxLevel: 20
oxModuleProperty: {"value1":"usage_type","value2":"interactive","description":""}
oxRevision: 1
oxScript:: ZnJvbSBvcmcuamJvc3Muc2VhbS5jb250ZXh0cyBpbXBvcnQgQ29udGV4dCwgQ29ud
 GV4dHMNCmZyb20gb3JnLmpib3NzLnNlYW0uc2VjdXJpdHkgaW1wb3J0IElkZW50aXR5DQpmcm9t
 IG9yZy5qYm9zcy5zZWFtIGltcG9ydCBDb21wb25lbnQNCmZyb20gamF2YXguZmFjZXMuY29udGV
 4dCBpbXBvcnQgRmFjZXNDb250ZXh0DQpmcm9tIG9yZy5qYm9zcy5zZWFtIGltcG9ydCBDb21wb2
 5lbnQNCmZyb20gb3JnLmFwYWNoZS5odHRwLmVudGl0eSBpbXBvcnQgQ29udGVudFR5cGUgDQpmc
 m9tIG9yZy54ZGkubW9kZWwuY3VzdG9tLnNjcmlwdC50eXBlLmF1dGggaW1wb3J0IFBlcnNvbkF1
 dGhlbnRpY2F0aW9uVHlwZQ0KZnJvbSBvcmcueGRpLm94YXV0aC5zZXJ2aWNlIGltcG9ydCBVc2V
 yU2VydmljZQ0KZnJvbSBvcmcueGRpLm94YXV0aC5zZXJ2aWNlIGltcG9ydCBBdXRoZW50aWNhdG
 lvblNlcnZpY2UNCmZyb20gb3JnLnhkaS5veGF1dGguc2VydmljZS5uZXQgaW1wb3J0IEh0dHBTZ
 XJ2aWNlDQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3RyaW5nSGVscGVyDQpmcm9tIG9yZy54
 ZGkudXRpbCBpbXBvcnQgQXJyYXlIZWxwZXINCmZyb20gb3JnLmFwYWNoZS5odHRwLnBhcmFtcyB
 pbXBvcnQgQ29yZUNvbm5lY3Rpb25QTmFtZXMNCmZyb20gamF2YS51dGlsIGltcG9ydCBBcnJheX
 MNCmZyb20gamF2YS51dGlsIGltcG9ydCBIYXNoTWFwDQoNCmltcG9ydCBqYXZhDQppbXBvcnQgc
 3lzDQoNCmNsYXNzIFBlcnNvbkF1dGhlbnRpY2F0aW9uKFBlcnNvbkF1dGhlbnRpY2F0aW9uVHlw
 ZSk6DQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGN1cnJlbnRUaW1lTWlsbGlzKToNCiAgICAgICA
 gc2VsZi5jdXJyZW50VGltZU1pbGxpcyA9IGN1cnJlbnRUaW1lTWlsbGlzDQoNCiAgICBkZWYgaW
 5pdChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcyk6DQogICAgICAgIHByaW50ICJDQVMyL
 iBJbml0aWFsaXphdGlvbiINCiAgICAgICAgcHJpbnQgIkNBUzIuIEluaXRpYWxpemVkIHN1Y2Nl
 c3NmdWxseSINCiAgICAgICAgcmV0dXJuIFRydWUgICANCg0KICAgIGRlZiBkZXN0cm95KHNlbGY
 sIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICAgICAgcHJpbnQgIkNBUzIuIERlc3Ryb3
 kiDQogICAgICAgIHByaW50ICJDQVMyLiBEZXN0cm95ZWQgc3VjY2Vzc2Z1bGx5Ig0KICAgICAgI
 CByZXR1cm4gVHJ1ZQ0KDQogICAgZGVmIGdldEFwaVZlcnNpb24oc2VsZik6DQogICAgICAgIHJl
 dHVybiAxDQoNCiAgICBkZWYgaXNWYWxpZEF1dGhlbnRpY2F0aW9uTWV0aG9kKHNlbGYsIHVzYWd
 lVHlwZSwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiQ0FTMi4gUm
 VzdCBBUEkgYXV0aGVudGljYXRlIGlzVmFsaWRBdXRoZW50aWNhdGlvbk1ldGhvZCINCg0KICAgI
 CAgICBpZiAobm90IChjb25maWd1cmF0aW9uQXR0cmlidXRlcy5jb250YWluc0tleSgiY2FzX3Zh
 bGlkYXRpb25fdXJpIikgYW5kDQogICAgICAgICAgICBjb25maWd1cmF0aW9uQXR0cmlidXRlcy5
 jb250YWluc0tleSgiY2FzX3ZhbGlkYXRpb25fcGF0dGVybiIpIGFuZA0KICAgICAgICAgICAgY2
 9uZmlndXJhdGlvbkF0dHJpYnV0ZXMuY29udGFpbnNLZXkoImNhc192YWxpZGF0aW9uX3RpbWVvd
 XQiKSkpOg0KICAgICAgICAgICAgcmV0dXJuIFRydWUNCg0KICAgICAgICBjYXNfdmFsaWRhdGlv
 bl91cmkgPSBjb25maWd1cmF0aW9uQXR0cmlidXRlcy5nZXQoImNhc192YWxpZGF0aW9uX3VyaSI
 pLmdldFZhbHVlMigpDQogICAgICAgIGNhc192YWxpZGF0aW9uX3BhdHRlcm4gPSBjb25maWd1cm
 F0aW9uQXR0cmlidXRlcy5nZXQoImNhc192YWxpZGF0aW9uX3BhdHRlcm4iKS5nZXRWYWx1ZTIoK
 Q0KICAgICAgICBjYXNfdmFsaWRhdGlvbl90aW1lb3V0ID0gaW50KGNvbmZpZ3VyYXRpb25BdHRy
 aWJ1dGVzLmdldCgiY2FzX3ZhbGlkYXRpb25fdGltZW91dCIpLmdldFZhbHVlMigpKSAqIDEwMDA
 NCg0KICAgICAgICBodHRwU2VydmljZSA9IEh0dHBTZXJ2aWNlLmluc3RhbmNlKCk7DQoNCiAgIC
 AgICAgaHR0cF9jbGllbnQgPSBodHRwU2VydmljZS5nZXRIdHRwc0NsaWVudCgpOw0KICAgICAgI
 CBodHRwX2NsaWVudF9wYXJhbXMgPSBodHRwX2NsaWVudC5nZXRQYXJhbXMoKTsNCiAgICAgICAg
 aHR0cF9jbGllbnRfcGFyYW1zLnNldEludFBhcmFtZXRlcihDb3JlQ29ubmVjdGlvblBOYW1lcy5
 DT05ORUNUSU9OX1RJTUVPVVQsIGNhc192YWxpZGF0aW9uX3RpbWVvdXQpOw0KDQogICAgICAgIH
 RyeToNCiAgICAgICAgICAgIGh0dHBfc2VydmljZV9yZXNwb25zZSA9IGh0dHBTZXJ2aWNlLmV4Z
 WN1dGVHZXQoaHR0cF9jbGllbnQsIGNhc192YWxpZGF0aW9uX3VyaSkNCiAgICAgICAgICAgIGh0
 dHBfcmVzcG9uc2UgPSBodHRwX3NlcnZpY2VfcmVzcG9uc2UuZ2V0SHR0cFJlc3BvbnNlKCkNCiA
 gICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgcHJpbnQgIkNBUzIuIFJlc3QgQVBJIGF1dGhlbn
 RpY2F0ZSBpc1ZhbGlkQXV0aGVudGljYXRpb25NZXRob2QuIEV4Y2VwdGlvbjogIiwgc3lzLmV4Y
 19pbmZvKClbMV0NCiAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgIHRyeToNCiAg
 ICAgICAgICAgIGlmIChodHRwX3Jlc3BvbnNlLmdldFN0YXR1c0xpbmUoKS5nZXRTdGF0dXNDb2R
 lKCkgIT0gMjAwKToNCiAgICAgICAgICAgICAgICBwcmludCAiQ0FTMi4gUmVzdCBBUEkgYXV0aG
 VudGljYXRlIGlzVmFsaWRBdXRoZW50aWNhdGlvbk1ldGhvZC4gR2V0IGludmFsaWQgcmVzcG9uc
 2UgZnJvbSBDQVMyIHNlcnZlcjogIiwgc3RyKGh0dHBfcmVzcG9uc2VfdGlja2V0LmdldFN0YXR1
 c0xpbmUoKS5nZXRTdGF0dXNDb2RlKCkpDQogICAgICAgICAgICAgICAgaHR0cFNlcnZpY2UuY29
 uc3VtZShodHRwX3Jlc3BvbnNlKQ0KICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KICAgIA
 0KICAgICAgICAgICAgdmFsaWRhdGlvbl9yZXNwb25zZV9ieXRlcyA9IGh0dHBTZXJ2aWNlLmdld
 FJlc3BvbnNlQ29udGVudChodHRwX3Jlc3BvbnNlKQ0KICAgICAgICAgICAgdmFsaWRhdGlvbl9y
 ZXNwb25zZV9zdHJpbmcgPSBodHRwU2VydmljZS5jb252ZXJ0RW50aXR5VG9TdHJpbmcodmFsaWR
 hdGlvbl9yZXNwb25zZV9ieXRlcykNCiAgICAgICAgICAgIGh0dHBTZXJ2aWNlLmNvbnN1bWUoaH
 R0cF9yZXNwb25zZSkNCiAgICAgICAgZmluYWxseToNCiAgICAgICAgICAgIGh0dHBfc2VydmljZ
 V9yZXNwb25zZS5jbG9zZUNvbm5lY3Rpb24oKQ0KDQogICAgICAgIGlmICh2YWxpZGF0aW9uX3Jl
 c3BvbnNlX3N0cmluZyA9PSBOb25lIG9yIHZhbGlkYXRpb25fcmVzcG9uc2Vfc3RyaW5nLmZpbmQ
 oY2FzX3ZhbGlkYXRpb25fcGF0dGVybikgPT0gLTEpOg0KICAgICAgICAgICAgcHJpbnQgIkNBUz
 IuIFJlc3QgQVBJIGF1dGhlbnRpY2F0ZSBpc1ZhbGlkQXV0aGVudGljYXRpb25NZXRob2QuIEdld
 CBpbnZhbGlkIGxvZ2luIHBhZ2UgZnJvbSBDQVMyIHNlcnZlcjoiDQogICAgICAgICAgICByZXR1
 cm4gRmFsc2UNCg0KICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgZGVmIGdldEFsdGVybmF0aXZ
 lQXV0aGVudGljYXRpb25NZXRob2Qoc2VsZiwgdXNhZ2VUeXBlLCBjb25maWd1cmF0aW9uQXR0cm
 lidXRlcyk6DQogICAgICAgIGNhc19hbHRfYXV0aF9tb2RlID0gY29uZmlndXJhdGlvbkF0dHJpY
 nV0ZXMuZ2V0KCJjYXNfYWx0X2F1dGhfbW9kZSIpLmdldFZhbHVlMigpDQogICAgICAgIHJldHVy
 biBjYXNfYWx0X2F1dGhfbW9kZQ0KDQogICAgZGVmIGF1dGhlbnRpY2F0ZShzZWxmLCBjb25maWd
 1cmF0aW9uQXR0cmlidXRlcywgcmVxdWVzdFBhcmFtZXRlcnMsIHN0ZXApOg0KICAgICAgICBjb2
 50ZXh0ID0gQ29udGV4dHMuZ2V0RXZlbnRDb250ZXh0KCkNCiAgICAgICAgYXV0aGVudGljYXRpb
 25TZXJ2aWNlID0gQXV0aGVudGljYXRpb25TZXJ2aWNlLmluc3RhbmNlKCkNCiAgICAgICAgdXNl
 clNlcnZpY2UgPSBVc2VyU2VydmljZS5pbnN0YW5jZSgpDQogICAgICAgIGh0dHBTZXJ2aWNlID0
 gSHR0cFNlcnZpY2UuaW5zdGFuY2UoKTsNCg0KICAgICAgICBjYXNfaG9zdCA9IGNvbmZpZ3VyYX
 Rpb25BdHRyaWJ1dGVzLmdldCgiY2FzX2hvc3QiKS5nZXRWYWx1ZTIoKQ0KICAgICAgICBjYXNfb
 WFwX3VzZXIgPSBTdHJpbmdIZWxwZXIudG9Cb29sZWFuKGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVz
 LmdldCgiY2FzX21hcF91c2VyIikuZ2V0VmFsdWUyKCksIEZhbHNlKQ0KICAgICAgICBjYXNfcmV
 uZXdfb3B0ID0gU3RyaW5nSGVscGVyLnRvQm9vbGVhbihjb25maWd1cmF0aW9uQXR0cmlidXRlcy
 5nZXQoImNhc19yZW5ld19vcHQiKS5nZXRWYWx1ZTIoKSwgRmFsc2UpDQoNCiAgICAgICAgY2FzX
 2V4dHJhX29wdHMgPSBOb25lDQogICAgICAgIGlmIChjb25maWd1cmF0aW9uQXR0cmlidXRlcy5j
 b250YWluc0tleSgiY2FzX2V4dHJhX29wdHMiKSk6DQogICAgICAgICAgICBjYXNfZXh0cmFfb3B
 0cyA9IGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzLmdldCgiY2FzX2V4dHJhX29wdHMiKS5nZXRWYW
 x1ZTIoKQ0KDQogICAgICAgIGlmIChzdGVwID09IDEpOg0KICAgICAgICAgICAgcHJpbnQgIkNBU
 zIuIEF1dGhlbnRpY2F0ZSBmb3Igc3RlcCAxIg0KICAgICAgICAgICAgdGlja2V0X2FycmF5ID0g
 cmVxdWVzdFBhcmFtZXRlcnMuZ2V0KCJ0aWNrZXQiKQ0KICAgICAgICAgICAgaWYgQXJyYXlIZWx
 wZXIuaXNFbXB0eSh0aWNrZXRfYXJyYXkpOg0KICAgICAgICAgICAgICAgIHByaW50ICJDQVMyLi
 BBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMS4gdGlja2V0IGlzIGVtcHR5Ig0KICAgICAgICAgICAgI
 CAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICB0aWNrZXQgPSB0aWNrZXRfYXJyYXlbMF0N
 CiAgICAgICAgICAgIHByaW50ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMS4gdGlja2V
 0OiAiICsgdGlja2V0DQoNCiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNFbXB0eVN0cm
 luZyh0aWNrZXQpKToNCiAgICAgICAgICAgICAgICBwcmludCAiQ0FTMi4gQXV0aGVudGljYXRlI
 GZvciBzdGVwIDEuIHRpY2tldCBpcyBpbnZhbGlkIg0KICAgICAgICAgICAgICAgIHJldHVybiBG
 YWxzZQ0KDQogICAgICAgICAgICAjIFZhbGlkYXRlIHRpY2tldA0KICAgICAgICAgICAgcmVxdWV
 zdCA9IEZhY2VzQ29udGV4dC5nZXRDdXJyZW50SW5zdGFuY2UoKS5nZXRFeHRlcm5hbENvbnRleH
 QoKS5nZXRSZXF1ZXN0KCkNCg0KICAgICAgICAgICAgcGFyYW1ldGVyc01hcCA9IEhhc2hNYXAoK
 Q0KICAgICAgICAgICAgcGFyYW1ldGVyc01hcC5wdXQoInNlcnZpY2UiLCBodHRwU2VydmljZS5j
 b25zdHJ1Y3RTZXJ2ZXJVcmwocmVxdWVzdCkgKyAiL3Bvc3Rsb2dpbiIpDQogICAgICAgICAgICB
 pZiAoY2FzX3JlbmV3X29wdCk6DQogICAgICAgICAgICAgICAgcGFyYW1ldGVyc01hcC5wdXQoIn
 JlbmV3IiwgInRydWUiKQ0KICAgICAgICAgICAgcGFyYW1ldGVyc01hcC5wdXQoInRpY2tldCIsI
 HRpY2tldCkNCiAgICAgICAgICAgIGNhc19zZXJ2aWNlX3JlcXVlc3RfdXJpID0gYXV0aGVudGlj
 YXRpb25TZXJ2aWNlLnBhcmFtZXRlcnNBc1N0cmluZyhwYXJhbWV0ZXJzTWFwKQ0KICAgICAgICA
 gICAgY2FzX3NlcnZpY2VfcmVxdWVzdF91cmkgPSBjYXNfaG9zdCArICIvc2VydmljZVZhbGlkYX
 RlPyIgKyBjYXNfc2VydmljZV9yZXF1ZXN0X3VyaQ0KICAgICAgICAgICAgaWYgKGNhc19leHRyY
 V9vcHRzICE9IE5vbmUpOg0KICAgICAgICAgICAgICAgIGNhc19zZXJ2aWNlX3JlcXVlc3RfdXJp
 ID0gY2FzX3NlcnZpY2VfcmVxdWVzdF91cmkgKyAiJiIgKyBjYXNfZXh0cmFfb3B0cw0KDQogICA
 gICAgICAgICBwcmludCAiQ0FTMi4gQXV0aGVudGljYXRlIGZvciBzdGVwIDEuIGNhc19zZXJ2aW
 NlX3JlcXVlc3RfdXJpOiAiICsgY2FzX3NlcnZpY2VfcmVxdWVzdF91cmkNCg0KICAgICAgICAgI
 CAgaHR0cF9jbGllbnQgPSBodHRwU2VydmljZS5nZXRIdHRwc0NsaWVudCgpOw0KICAgICAgICAg
 ICAgaHR0cF9zZXJ2aWNlX3Jlc3BvbnNlID0gaHR0cFNlcnZpY2UuZXhlY3V0ZUdldChodHRwX2N
 saWVudCwgY2FzX3NlcnZpY2VfcmVxdWVzdF91cmkpDQogICAgICAgICAgICANCiAgICAgICAgIC
 AgIHRyeToNCiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX2NvbnRlbnQgPSBodHRwU2VydmljZ
 S5jb252ZXJ0RW50aXR5VG9TdHJpbmcoaHR0cFNlcnZpY2UuZ2V0UmVzcG9uc2VDb250ZW50KGh0
 dHBfc2VydmljZV9yZXNwb25zZS5nZXRIdHRwUmVzcG9uc2UoKSkpDQogICAgICAgICAgICBmaW5
 hbGx5Og0KICAgICAgICAgICAgICAgIGh0dHBfc2VydmljZV9yZXNwb25zZS5jbG9zZUNvbm5lY3
 Rpb24oKQ0KDQogICAgICAgICAgICBwcmludCAiQ0FTMi4gQXV0aGVudGljYXRlIGZvciBzdGVwI
 DEuIHZhbGlkYXRpb25fY29udGVudDogIiArIHZhbGlkYXRpb25fY29udGVudA0KICAgICAgICAg
 ICAgaWYgU3RyaW5nSGVscGVyLmlzRW1wdHkodmFsaWRhdGlvbl9jb250ZW50KToNCiAgICAgICA
 gICAgICAgICBwcmludCAiQ0FTMi4gQXV0aGVudGljYXRlIGZvciBzdGVwIDEuIFRpY2tldCB2YW
 xpZGF0aW9uIHJlc3BvbnNlIGlzIGludmFsaWQiDQogICAgICAgICAgICAgICAgcmV0dXJuIEZhb
 HNlDQoNCiAgICAgICAgICAgIGNhczJfYXV0aF9mYWlsdXJlID0gc2VsZi5wYXJzZV90YWcodmFs
 aWRhdGlvbl9jb250ZW50LCAiY2FzOmF1dGhlbnRpY2F0aW9uRmFpbHVyZSIpDQogICAgICAgICA
 gICBwcmludCAiQ0FTMi4gQXV0aGVudGljYXRlIGZvciBzdGVwIDEuIGNhczJfYXV0aF9mYWlsdX
 JlOiAiLCBjYXMyX2F1dGhfZmFpbHVyZQ0KDQogICAgICAgICAgICBjYXMyX3VzZXJfdWlkID0gc
 2VsZi5wYXJzZV90YWcodmFsaWRhdGlvbl9jb250ZW50LCAiY2FzOnVzZXIiKQ0KICAgICAgICAg
 ICAgcHJpbnQgIkNBUzIuIEF1dGhlbnRpY2F0ZSBmb3Igc3RlcCAxLiBjYXMyX3VzZXJfdWlkOiA
 iLCBjYXMyX3VzZXJfdWlkDQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICgoY2FzMl9hdX
 RoX2ZhaWx1cmUgIT0gTm9uZSkgb3IgKGNhczJfdXNlcl91aWQgPT0gTm9uZSkpOg0KICAgICAgI
 CAgICAgICAgIHByaW50ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMS4gVGlja2V0IGlz
 IGludmFsaWQiDQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAgIGl
 mIChjYXNfbWFwX3VzZXIpOg0KICAgICAgICAgICAgICAgIHByaW50ICJDQVMyLiBBdXRoZW50aW
 NhdGUgZm9yIHN0ZXAgMS4gQXR0ZW1wdGluZyB0byBmaW5kIHVzZXIgYnkgb3hFeHRlcm5hbFVpZ
 DogY2FzMjoiICsgY2FzMl91c2VyX3VpZA0KDQogICAgICAgICAgICAgICAgIyBDaGVjayBpZiB0
 aGUgaXMgdXNlciB3aXRoIHNwZWNpZmllZCBjYXMyX3VzZXJfdWlkDQogICAgICAgICAgICAgICA
 gZmluZF91c2VyX2J5X3VpZCA9IHVzZXJTZXJ2aWNlLmdldFVzZXJCeUF0dHJpYnV0ZSgib3hFeH
 Rlcm5hbFVpZCIsICJjYXMyOiIgKyBjYXMyX3VzZXJfdWlkKQ0KDQogICAgICAgICAgICAgICAga
 WYgKGZpbmRfdXNlcl9ieV91aWQgPT0gTm9uZSk6DQogICAgICAgICAgICAgICAgICAgIHByaW50
 ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMS4gRmFpbGVkIHRvIGZpbmQgdXNlciINCiA
 gICAgICAgICAgICAgICAgICAgcHJpbnQgIkNBUzIuIEF1dGhlbnRpY2F0ZSBmb3Igc3RlcCAxLi
 BTZXR0aW5nIGNvdW50IHN0ZXBzIHRvIDIiDQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc
 2V0KCJjYXMyX2NvdW50X2xvZ2luX3N0ZXBzIiwgMikNCiAgICAgICAgICAgICAgICAgICAgY29u
 dGV4dC5zZXQoImNhczJfdXNlcl91aWQiLCBjYXMyX3VzZXJfdWlkKQ0KICAgICAgICAgICAgICA
 gICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgICAgICAgICAgICAgZm91bmRfdXNlcl9uYW1lID0gZm
 luZF91c2VyX2J5X3VpZC5nZXRVc2VySWQoKQ0KICAgICAgICAgICAgICAgIHByaW50ICJDQVMyL
 iBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMS4gZm91bmRfdXNlcl9uYW1lOiAiICsgZm91bmRfdXNl
 cl9uYW1lDQoNCiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyA9IElkZW50aXR5Lmluc3RhbmN
 lKCkuZ2V0Q3JlZGVudGlhbHMoKQ0KICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLnNldFVzZX
 JuYW1lKGZvdW5kX3VzZXJfbmFtZSkNCiAgICAgICAgICAgICAgICBjcmVkZW50aWFscy5zZXRVc
 2VyKGZpbmRfdXNlcl9ieV91aWQpDQogICAgICAgICAgICANCiAgICAgICAgICAgICAgICBwcmlu
 dCAiQ0FTMi4gQXV0aGVudGljYXRlIGZvciBzdGVwIDEuIFNldHRpbmcgY291bnQgc3RlcHMgdG8
 gMSINCiAgICAgICAgICAgICAgICBjb250ZXh0LnNldCgiY2FzMl9jb3VudF9sb2dpbl9zdGVwcy
 IsIDEpDQoNCiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgICAgICAgICAgZWxzZToNC
 iAgICAgICAgICAgICAgICBwcmludCAiQ0FTMi4gQXV0aGVudGljYXRlIGZvciBzdGVwIDEuIEF0
 dGVtcHRpbmcgdG8gZmluZCB1c2VyIGJ5IHVpZDoiICsgY2FzMl91c2VyX3VpZA0KDQogICAgICA
 gICAgICAgICAgIyBDaGVjayBpZiB0aGUgaXMgdXNlciB3aXRoIHNwZWNpZmllZCBjYXMyX3VzZX
 JfdWlkDQogICAgICAgICAgICAgICAgZmluZF91c2VyX2J5X3VpZCA9IHVzZXJTZXJ2aWNlLmdld
 FVzZXIoY2FzMl91c2VyX3VpZCkNCiAgICAgICAgICAgICAgICBpZiAoZmluZF91c2VyX2J5X3Vp
 ZCA9PSBOb25lKToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgIkNBUzIuIEF1dGhlbnRpY2F
 0ZSBmb3Igc3RlcCAxLiBGYWlsZWQgdG8gZmluZCB1c2VyIg0KICAgICAgICAgICAgICAgICAgIC
 ByZXR1cm4gRmFsc2UNCg0KICAgICAgICAgICAgICAgIGZvdW5kX3VzZXJfbmFtZSA9IGZpbmRfd
 XNlcl9ieV91aWQuZ2V0VXNlcklkKCkNCiAgICAgICAgICAgICAgICBwcmludCAiQ0FTMi4gQXV0
 aGVudGljYXRlIGZvciBzdGVwIDEuIGZvdW5kX3VzZXJfbmFtZTogIiArIGZvdW5kX3VzZXJfbmF
 tZQ0KDQogICAgICAgICAgICAgICAgY3JlZGVudGlhbHMgPSBJZGVudGl0eS5pbnN0YW5jZSgpLm
 dldENyZWRlbnRpYWxzKCkNCiAgICAgICAgICAgICAgICBjcmVkZW50aWFscy5zZXRVc2VybmFtZ
 Shmb3VuZF91c2VyX25hbWUpDQogICAgICAgICAgICAgICAgY3JlZGVudGlhbHMuc2V0VXNlcihm
 aW5kX3VzZXJfYnlfdWlkKQ0KDQogICAgICAgICAgICAgICAgcHJpbnQgIkNBUzIuIEF1dGhlbnR
 pY2F0ZSBmb3Igc3RlcCAxLiBTZXR0aW5nIGNvdW50IHN0ZXBzIHRvIDEiDQogICAgICAgICAgIC
 AgICAgY29udGV4dC5zZXQoImNhczJfY291bnRfbG9naW5fc3RlcHMiLCAxKQ0KDQogICAgICAgI
 CAgICAgICAgcmV0dXJuIFRydWUNCiAgICAgICAgZWxpZiAoc3RlcCA9PSAyKToNCiAgICAgICAg
 ICAgIHByaW50ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMiINCg0KICAgICAgICAgICA
 gc2Vzc2lvbkF0dHJpYnV0ZXMgPSBjb250ZXh0LmdldCgic2Vzc2lvbkF0dHJpYnV0ZXMiKQ0KIC
 AgICAgICAgICAgaWYgKHNlc3Npb25BdHRyaWJ1dGVzID09IE5vbmUpIG9yIG5vdCBzZXNzaW9uQ
 XR0cmlidXRlcy5jb250YWluc0tleSgiY2FzMl91c2VyX3VpZCIpOg0KICAgICAgICAgICAgICAg
 IHByaW50ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMi4gY2FzMl91c2VyX3VpZCBpcyB
 lbXB0eSINCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICAgICAgY2FzMl
 91c2VyX3VpZCA9IHNlc3Npb25BdHRyaWJ1dGVzLmdldCgiY2FzMl91c2VyX3VpZCIpDQogICAgI
 CAgICAgICBwYXNzZWRfc3RlcDEgPSBTdHJpbmdIZWxwZXIuaXNOb3RFbXB0eVN0cmluZyhjYXMy
 X3VzZXJfdWlkKQ0KICAgICAgICAgICAgaWYgKG5vdCBwYXNzZWRfc3RlcDEpOg0KICAgICAgICA
 gICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICBjcmVkZW50aWFscyA9IElkZW50aX
 R5Lmluc3RhbmNlKCkuZ2V0Q3JlZGVudGlhbHMoKQ0KICAgICAgICAgICAgdXNlcl9uYW1lID0gY
 3JlZGVudGlhbHMuZ2V0VXNlcm5hbWUoKQ0KICAgICAgICAgICAgdXNlcl9wYXNzd29yZCA9IGNy
 ZWRlbnRpYWxzLmdldFBhc3N3b3JkKCkNCg0KICAgICAgICAgICAgbG9nZ2VkX2luID0gRmFsc2U
 NCiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOb3RFbXB0eVN0cmluZyh1c2VyX25hbW
 UpIGFuZCBTdHJpbmdIZWxwZXIuaXNOb3RFbXB0eVN0cmluZyh1c2VyX3Bhc3N3b3JkKSk6DQogI
 CAgICAgICAgICAgICAgbG9nZ2VkX2luID0gdXNlclNlcnZpY2UuYXV0aGVudGljYXRlKHVzZXJf
 bmFtZSwgdXNlcl9wYXNzd29yZCkNCg0KICAgICAgICAgICAgaWYgKG5vdCBsb2dnZWRfaW4pOg0
 KICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICAjIENoZWNrIGlmIH
 RoZXJlIGlzIHVzZXIgd2hpY2ggaGFzIGNhczJfdXNlcl91aWQNCiAgICAgICAgICAgICMgQXZva
 WQgbWFwcGluZyBDQVMyIGFjY291bnQgdG8gbW9yZSB0aGFuIG9uZSBJRFAgYWNjb3VudA0KICAg
 ICAgICAgICAgZmluZF91c2VyX2J5X3VpZCA9IHVzZXJTZXJ2aWNlLmdldFVzZXJCeUF0dHJpYnV
 0ZSgib3hFeHRlcm5hbFVpZCIsICJjYXMyOiIgKyBjYXMyX3VzZXJfdWlkKQ0KDQogICAgICAgIC
 AgICBpZiAoZmluZF91c2VyX2J5X3VpZCA9PSBOb25lKToNCiAgICAgICAgICAgICAgICAjIEFkZ
 CBjYXMyX3VzZXJfdWlkIHRvIHVzZXIgb25lIGlkIFVJRHMNCiAgICAgICAgICAgICAgICBmaW5k
 X3VzZXJfYnlfdWlkID0gdXNlclNlcnZpY2UuYWRkVXNlckF0dHJpYnV0ZSh1c2VyX25hbWUsICJ
 veEV4dGVybmFsVWlkIiwgImNhczI6IiArIGNhczJfdXNlcl91aWQpDQogICAgICAgICAgICAgIC
 AgaWYgKGZpbmRfdXNlcl9ieV91aWQgPT0gTm9uZSk6DQogICAgICAgICAgICAgICAgICAgIHBya
 W50ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMi4gRmFpbGVkIHRvIHVwZGF0ZSBjdXJy
 ZW50IHVzZXIiDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICA
 gICAgICAgcmV0dXJuIFRydWUNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgZm
 91bmRfdXNlcl9uYW1lID0gZmluZF91c2VyX2J5X3VpZC5nZXRVc2VySWQoKQ0KICAgICAgICAgI
 CAgICAgIHByaW50ICJDQVMyLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMi4gZm91bmRfdXNlcl9u
 YW1lOiAiICsgZm91bmRfdXNlcl9uYW1lDQogICAgDQogICAgICAgICAgICAgICAgaWYgU3RyaW5
 nSGVscGVyLmVxdWFscyh1c2VyX25hbWUsIGZvdW5kX3VzZXJfbmFtZSk6DQogICAgICAgICAgIC
 AgICAgICAgIHJldHVybiBUcnVlDQogICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIEZhbHNlD
 QogICAgICAgIGVsc2U6DQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgIGRlZiBwcmVw
 YXJlRm9yU3RlcChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcywgcmVxdWVzdFBhcmFtZXR
 lcnMsIHN0ZXApOg0KICAgICAgICBjb250ZXh0ID0gQ29udGV4dHMuZ2V0RXZlbnRDb250ZXh0KC
 kNCiAgICAgICAgYXV0aGVudGljYXRpb25TZXJ2aWNlID0gQXV0aGVudGljYXRpb25TZXJ2aWNlL
 mluc3RhbmNlKCkNCiAgICAgICAgaHR0cFNlcnZpY2UgPSBIdHRwU2VydmljZS5pbnN0YW5jZSgp
 Ow0KDQogICAgICAgIGNhc19ob3N0ID0gY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMuZ2V0KCJjYXN
 faG9zdCIpLmdldFZhbHVlMigpDQogICAgICAgIGNhc19yZW5ld19vcHQgPSBTdHJpbmdIZWxwZX
 IudG9Cb29sZWFuKGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzLmdldCgiY2FzX3JlbmV3X29wdCIpL
 mdldFZhbHVlMigpLCBGYWxzZSkNCg0KICAgICAgICBjYXNfZXh0cmFfb3B0cyA9IE5vbmUNCiAg
 ICAgICAgaWYgKGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzLmNvbnRhaW5zS2V5KCJjYXNfZXh0cmF
 fb3B0cyIpKToNCiAgICAgICAgICAgIGNhc19leHRyYV9vcHRzID0gY29uZmlndXJhdGlvbkF0dH
 JpYnV0ZXMuZ2V0KCJjYXNfZXh0cmFfb3B0cyIpLmdldFZhbHVlMigpDQoNCiAgICAgICAgaWYgK
 HN0ZXAgPT0gMSk6DQogICAgICAgICAgICBwcmludCAiQ0FTMi4gUHJlcGFyZSBmb3Igc3RlcCAx
 Ig0KDQogICAgICAgICAgICByZXF1ZXN0ID0gRmFjZXNDb250ZXh0LmdldEN1cnJlbnRJbnN0YW5
 jZSgpLmdldEV4dGVybmFsQ29udGV4dCgpLmdldFJlcXVlc3QoKQ0KICAgICAgICAgICAgcGFyYW
 1ldGVyc01hcCA9IEhhc2hNYXAoKQ0KICAgICAgICAgICAgcGFyYW1ldGVyc01hcC5wdXQoInNlc
 nZpY2UiLCBodHRwU2VydmljZS5jb25zdHJ1Y3RTZXJ2ZXJVcmwocmVxdWVzdCkgKyAiL3Bvc3Rs
 b2dpbiIpDQogICAgICAgICAgICBpZiAoY2FzX3JlbmV3X29wdCk6DQogICAgICAgICAgICAgICA
 gcGFyYW1ldGVyc01hcC5wdXQoInJlbmV3IiwgInRydWUiKQ0KICAgICAgICAgICAgY2FzX3Nlcn
 ZpY2VfcmVxdWVzdF91cmkgPSBhdXRoZW50aWNhdGlvblNlcnZpY2UucGFyYW1ldGVyc0FzU3Rya
 W5nKHBhcmFtZXRlcnNNYXApDQogICAgICAgICAgICBjYXNfc2VydmljZV9yZXF1ZXN0X3VyaSA9
 IGNhc19ob3N0ICsgIi9sb2dpbj8iICsgY2FzX3NlcnZpY2VfcmVxdWVzdF91cmkNCiAgICAgICA
 gICAgIGlmIGNhc19leHRyYV9vcHRzICE9IE5vbmU6DQogICAgICAgICAgICAgICAgY2FzX3Nlcn
 ZpY2VfcmVxdWVzdF91cmkgPSBjYXNfc2VydmljZV9yZXF1ZXN0X3VyaSArICImIiArIGNhc19le
 HRyYV9vcHRzDQoNCiAgICAgICAgICAgIHByaW50ICJDQVMyLiBQcmVwYXJlIGZvciBzdGVwIDEu
 IGNhc19zZXJ2aWNlX3JlcXVlc3RfdXJpOiAiICsgY2FzX3NlcnZpY2VfcmVxdWVzdF91cmkNCg0
 KICAgICAgICAgICAgY29udGV4dC5zZXQoImNhc19zZXJ2aWNlX3JlcXVlc3RfdXJpIiwgY2FzX3
 NlcnZpY2VfcmVxdWVzdF91cmkpDQoNCiAgICAgICAgICAgIHJldHVybiBUcnVlDQogICAgICAgI
 GVsaWYgKHN0ZXAgPT0gMik6DQogICAgICAgICAgICBwcmludCAiQ0FTMi4gUHJlcGFyZSBmb3Ig
 c3RlcCAyIg0KDQogICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgICAgICBlbHNlOg0KICAgICA
 gICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICBkZWYgZ2V0RXh0cmFQYXJhbWV0ZXJzRm9yU3RlcC
 hzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcywgc3RlcCk6DQogICAgICAgIGlmIChzdGVwI
 D09IDIpOg0KICAgICAgICAgICAgcmV0dXJuIEFycmF5cy5hc0xpc3QoImNhczJfdXNlcl91aWQi
 KQ0KICAgICAgICANCiAgICAgICAgcmV0dXJuIE5vbmUNCg0KICAgIGRlZiBnZXRDb3VudEF1dGh
 lbnRpY2F0aW9uU3RlcHMoc2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgIC
 Bjb250ZXh0ID0gQ29udGV4dHMuZ2V0RXZlbnRDb250ZXh0KCkNCiAgICAgICAgaWYgKGNvbnRle
 HQuaXNTZXQoImNhczJfY291bnRfbG9naW5fc3RlcHMiKSk6DQogICAgICAgICAgICByZXR1cm4g
 Y29udGV4dC5nZXQoImNhczJfY291bnRfbG9naW5fc3RlcHMiKQ0KICAgICAgICANCiAgICAgICA
 gcmV0dXJuIDINCg0KICAgIGRlZiBnZXRQYWdlRm9yU3RlcChzZWxmLCBjb25maWd1cmF0aW9uQX
 R0cmlidXRlcywgc3RlcCk6DQogICAgICAgIGlmIChzdGVwID09IDEpOg0KICAgICAgICAgICAgc
 mV0dXJuICIvYXV0aC9jYXMyL2NhczJsb2dpbi54aHRtbCINCiAgICAgICAgcmV0dXJuICIvYXV0
 aC9jYXMyL2NhczJwb3N0bG9naW4ueGh0bWwiDQoNCiAgICBkZWYgcGFyc2VfdGFnKHNlbGYsIHN
 0ciwgdGFnKToNCiAgICAgICAgdGFnMV9wb3MxID0gc3RyLmZpbmQoIjwiICsgdGFnKQ0KICAgIC
 AgICAjICBObyB0YWcgZm91bmQsIHJldHVybiBlbXB0eSBzdHJpbmcuDQogICAgICAgIGlmIHRhZ
 zFfcG9zMSA9PSAtMTogcmV0dXJuIE5vbmUNCiAgICAgICAgdGFnMV9wb3MyID0gc3RyLmZpbmQo
 Ij4iLCB0YWcxX3BvczEpDQogICAgICAgIGlmIHRhZzFfcG9zMiA9PSAtMTogcmV0dXJuIE5vbmU
 NCiAgICAgICAgdGFnMl9wb3MxID0gc3RyLmZpbmQoIjwvIiArIHRhZywgdGFnMV9wb3MyKQ0KIC
 AgICAgICBpZiB0YWcyX3BvczEgPT0gLTE6IHJldHVybiBOb25lDQoNCiAgICAgICAgcmV0dXJuI
 HN0clt0YWcxX3BvczIrMTp0YWcyX3BvczFdLnN0cmlwKCkNCg0KICAgIGRlZiBsb2dvdXQoc2Vs
 ZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMsIHJlcXVlc3RQYXJhbWV0ZXJzKToNCiAgICAgICA
 gcmV0dXJuIFRydWUNCg==
oxScriptType: person_authentication
programmingLanguage: python

dn: inum=%(inumOrg)s!8BAF.80D6,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Fido U2F
displayName: u2f
gluuStatus: false
inum: %(inumOrg)s!8BAF.80D6
oxConfigurationProperty: {"value1":"u2f_application_id","value2":"https://%(ox_cluster_hostname)s","description":""}
oxConfigurationProperty: {"value1":"u2f_server_uri","value2":"https://%(ox_cluster_hostname)s","description":""}
oxLevel: 10
oxModuleProperty: {"value1":"usage_type","value2":"interactive","description
 ":""}
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS5hdXRoIGltcG9yd
 CBQZXJzb25BdXRoZW50aWNhdGlvblR5cGUNCmZyb20gb3JnLmpib3NzLnNlYW0uY29udGV4dHMg
 aW1wb3J0IENvbnRleHQsIENvbnRleHRzDQpmcm9tIG9yZy5qYm9zcy5zZWFtLnNlY3VyaXR5IGl
 tcG9ydCBJZGVudGl0eQ0KZnJvbSBvcmcueGRpLm94YXV0aC5zZXJ2aWNlIGltcG9ydCBVc2VyU2
 VydmljZQ0KZnJvbSBvcmcueGRpLnV0aWwgaW1wb3J0IFN0cmluZ0hlbHBlcg0KZnJvbSBvcmcue
 GRpLnV0aWwgaW1wb3J0IEFycmF5SGVscGVyDQpmcm9tIG9yZy54ZGkub3hhdXRoLmNsaWVudC5m
 aWRvLnUyZiBpbXBvcnQgRmlkb1UyZkNsaWVudEZhY3RvcnkNCmZyb20gb3JnLnhkaS5veGF1dGg
 uc2VydmljZS5maWRvLnUyZiBpbXBvcnQgRGV2aWNlUmVnaXN0cmF0aW9uU2VydmljZQ0KZnJvbS
 BvcmcueGRpLm94YXV0aC51dGlsIGltcG9ydCBTZXJ2ZXJVdGlsDQpmcm9tIG9yZy54ZGkub3hhd
 XRoLm1vZGVsLmNvbmZpZyBpbXBvcnQgQ29uc3RhbnRzDQpmcm9tIG9yZy5qYm9zcy5yZXN0ZWFz
 eS5jbGllbnQgaW1wb3J0IENsaWVudFJlc3BvbnNlRmFpbHVyZQ0KZnJvbSBqYXZheC53cy5ycy5
 jb3JlIGltcG9ydCBSZXNwb25zZQ0KZnJvbSBqYXZhLnV0aWwgaW1wb3J0IEFycmF5cw0KDQppbX
 BvcnQgc3lzDQppbXBvcnQgamF2YQ0KDQpjbGFzcyBQZXJzb25BdXRoZW50aWNhdGlvbihQZXJzb
 25BdXRoZW50aWNhdGlvblR5cGUpOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjdXJyZW50VGlt
 ZU1pbGxpcyk6DQogICAgICAgIHNlbGYuY3VycmVudFRpbWVNaWxsaXMgPSBjdXJyZW50VGltZU1
 pbGxpcw0KDQogICAgZGVmIGluaXQoc2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KIC
 AgICAgICBwcmludCAiVTJGLiBJbml0aWFsaXphdGlvbiINCg0KICAgICAgICBwcmludCAiVTJGL
 iBJbml0aWFsaXphdGlvbi4gRG93bmxvYWRpbmcgVTJGIG1ldGFkYXRhIg0KICAgICAgICB1MmZf
 c2VydmVyX3VyaSA9IGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzLmdldCgidTJmX3NlcnZlcl91cmk
 iKS5nZXRWYWx1ZTIoKQ0KICAgICAgICB1MmZfc2VydmVyX21ldGFkYXRhX3VyaSA9IHUyZl9zZX
 J2ZXJfdXJpICsgIi8ud2VsbC1rbm93bi9maWRvLXUyZi1jb25maWd1cmF0aW9uIg0KDQogICAgI
 CAgIG1ldGFEYXRhQ29uZmlndXJhdGlvblNlcnZpY2UgPSBGaWRvVTJmQ2xpZW50RmFjdG9yeS5p
 bnN0YW5jZSgpLmNyZWF0ZU1ldGFEYXRhQ29uZmlndXJhdGlvblNlcnZpY2UodTJmX3NlcnZlcl9
 tZXRhZGF0YV91cmkpDQogICAgICAgIHNlbGYubWV0YURhdGFDb25maWd1cmF0aW9uID0gbWV0YU
 RhdGFDb25maWd1cmF0aW9uU2VydmljZS5nZXRNZXRhZGF0YUNvbmZpZ3VyYXRpb24oKQ0KICAgI
 CAgICANCiAgICAgICAgcHJpbnQgIlUyRi4gSW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Ig0KICAg
 ICAgICByZXR1cm4gVHJ1ZSAgIA0KDQogICAgZGVmIGRlc3Ryb3koc2VsZiwgY29uZmlndXJhdGl
 vbkF0dHJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiVTJGLiBEZXN0cm95Ig0KICAgICAgICBwcm
 ludCAiVTJGLiBEZXN0cm95ZWQgc3VjY2Vzc2Z1bGx5Ig0KICAgICAgICByZXR1cm4gVHJ1ZQ0KD
 QogICAgZGVmIGdldEFwaVZlcnNpb24oc2VsZik6DQogICAgICAgIHJldHVybiAxDQoNCiAgICBk
 ZWYgaXNWYWxpZEF1dGhlbnRpY2F0aW9uTWV0aG9kKHNlbGYsIHVzYWdlVHlwZSwgY29uZmlndXJ
 hdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgZGVmIGdldEFsdG
 VybmF0aXZlQXV0aGVudGljYXRpb25NZXRob2Qoc2VsZiwgdXNhZ2VUeXBlLCBjb25maWd1cmF0a
 W9uQXR0cmlidXRlcyk6DQogICAgICAgIHJldHVybiBOb25lDQoNCiAgICBkZWYgYXV0aGVudGlj
 YXRlKHNlbGYsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzLCByZXF1ZXN0UGFyYW1ldGVycywgc3R
 lcCk6DQogICAgICAgIGNyZWRlbnRpYWxzID0gSWRlbnRpdHkuaW5zdGFuY2UoKS5nZXRDcmVkZW
 50aWFscygpDQogICAgICAgIHVzZXJfbmFtZSA9IGNyZWRlbnRpYWxzLmdldFVzZXJuYW1lKCkNC
 g0KICAgICAgICBpZiAoc3RlcCA9PSAxKToNCiAgICAgICAgICAgIHByaW50ICJVMkYuIEF1dGhl
 bnRpY2F0ZSBmb3Igc3RlcCAxIg0KDQogICAgICAgICAgICB1c2VyX3Bhc3N3b3JkID0gY3JlZGV
 udGlhbHMuZ2V0UGFzc3dvcmQoKQ0KICAgICAgICAgICAgbG9nZ2VkX2luID0gRmFsc2UNCiAgIC
 AgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuaXNOb3RFbXB0eVN0cmluZyh1c2VyX25hbWUpIGFuZ
 CBTdHJpbmdIZWxwZXIuaXNOb3RFbXB0eVN0cmluZyh1c2VyX3Bhc3N3b3JkKSk6DQogICAgICAg
 ICAgICAgICAgdXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5pbnN0YW5jZSgpDQogICAgICAgICA
 gICAgICAgbG9nZ2VkX2luID0gdXNlclNlcnZpY2UuYXV0aGVudGljYXRlKHVzZXJfbmFtZSwgdX
 Nlcl9wYXNzd29yZCkNCg0KICAgICAgICAgICAgaWYgKG5vdCBsb2dnZWRfaW4pOg0KICAgICAgI
 CAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgICAg
 ICBlbGlmIChzdGVwID09IDIpOg0KICAgICAgICAgICAgcHJpbnQgIlUyRi4gQXV0aGVudGljYXR
 lIGZvciBzdGVwIDIiDQoNCiAgICAgICAgICAgIHRva2VuX3Jlc3BvbnNlID0gU2VydmVyVXRpbC
 5nZXRGaXJzdFZhbHVlKHJlcXVlc3RQYXJhbWV0ZXJzLCAidG9rZW5SZXNwb25zZSIpDQogICAgI
 CAgICAgICBpZiB0b2tlbl9yZXNwb25zZSA9PSBOb25lOg0KICAgICAgICAgICAgICAgIHByaW50
 ICJVMkYuIEF1dGhlbnRpY2F0ZSBmb3Igc3RlcCAyLiB0b2tlblJlc3BvbnNlIGlzIGVtcHR5Ig0
 KICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICBhdXRoX21ldGhvZC
 A9IFNlcnZlclV0aWwuZ2V0Rmlyc3RWYWx1ZShyZXF1ZXN0UGFyYW1ldGVycywgImF1dGhNZXRob
 2QiKQ0KICAgICAgICAgICAgaWYgYXV0aF9tZXRob2QgPT0gTm9uZToNCiAgICAgICAgICAgICAg
 ICBwcmludCAiVTJGLiBBdXRoZW50aWNhdGUgZm9yIHN0ZXAgMi4gYXV0aE1ldGhvZCBpcyBlbXB
 0eSINCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICAgICAgY3JlZGVudG
 lhbHMgPSBJZGVudGl0eS5pbnN0YW5jZSgpLmdldENyZWRlbnRpYWxzKCkNCiAgICAgICAgICAgI
 HVzZXIgPSBjcmVkZW50aWFscy5nZXRVc2VyKCkNCiAgICAgICAgICAgIGlmICh1c2VyID09IE5v
 bmUpOg0KICAgICAgICAgICAgICAgIHByaW50ICJVMkYuIFByZXBhcmUgZm9yIHN0ZXAgMi4gRmF
 pbGVkIHRvIGRldGVybWluZSB1c2VyIG5hbWUiDQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbH
 NlDQoNCiAgICAgICAgICAgIGlmIChhdXRoX21ldGhvZCA9PSAnYXV0aGVudGljYXRlJyk6DQogI
 CAgICAgICAgICAgICAgcHJpbnQgIlUyRi4gUHJlcGFyZSBmb3Igc3RlcCAyLiBDYWxsIEZJRE8g
 VTJGIGluIG9yZGVyIHRvIGZpbmlzaCBhdXRoZW50aWNhdGlvbiB3b3JrZmxvdyINCiAgICAgICA
 gICAgICAgICBhdXRoZW50aWNhdGlvblJlcXVlc3RTZXJ2aWNlID0gRmlkb1UyZkNsaWVudEZhY3
 RvcnkuaW5zdGFuY2UoKS5jcmVhdGVBdXRoZW50aWNhdGlvblJlcXVlc3RTZXJ2aWNlKHNlbGYub
 WV0YURhdGFDb25maWd1cmF0aW9uKQ0KICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU3Rh
 dHVzID0gYXV0aGVudGljYXRpb25SZXF1ZXN0U2VydmljZS5maW5pc2hBdXRoZW50aWNhdGlvbih
 1c2VyLmdldFVzZXJJZCgpLCB0b2tlbl9yZXNwb25zZSkNCg0KICAgICAgICAgICAgICAgIGlmIC
 hhdXRoZW50aWNhdGlvblN0YXR1cy5nZXRTdGF0dXMoKSAhPSBDb25zdGFudHMuUkVTVUxUX1NVQ
 0NFU1MpOg0KICAgICAgICAgICAgICAgICAgICBwcmludCAiVTJGLiBBdXRoZW50aWNhdGUgZm9y
 IHN0ZXAgMi4gR2V0IGludmFsaWQgYXV0aGVudGljYXRpb24gc3RhdHVzIGZyb20gRklETyBVMkY
 gc2VydmVyIg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICAgIC
 AgICAgIHJldHVybiBUcnVlDQogICAgICAgICAgICBlbGlmIChhdXRoX21ldGhvZCA9PSAnZW5yb
 2xsJyk6DQogICAgICAgICAgICAgICAgcHJpbnQgIlUyRi4gUHJlcGFyZSBmb3Igc3RlcCAyLiBD
 YWxsIEZJRE8gVTJGIGluIG9yZGVyIHRvIGZpbmlzaCByZWdpc3RyYXRpb24gd29ya2Zsb3ciDQo
 gICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uUmVxdWVzdFNlcnZpY2UgPSBGaWRvVTJmQ2xpZW
 50RmFjdG9yeS5pbnN0YW5jZSgpLmNyZWF0ZVJlZ2lzdHJhdGlvblJlcXVlc3RTZXJ2aWNlKHNlb
 GYubWV0YURhdGFDb25maWd1cmF0aW9uKQ0KICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblN0
 YXR1cyA9IHJlZ2lzdHJhdGlvblJlcXVlc3RTZXJ2aWNlLmZpbmlzaFJlZ2lzdHJhdGlvbih1c2V
 yLmdldFVzZXJJZCgpLCB0b2tlbl9yZXNwb25zZSkNCg0KICAgICAgICAgICAgICAgIGlmIChyZW
 dpc3RyYXRpb25TdGF0dXMuZ2V0U3RhdHVzKCkgIT0gQ29uc3RhbnRzLlJFU1VMVF9TVUNDRVNTK
 ToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlUyRi4gQXV0aGVudGljYXRlIGZvciBzdGVw
 IDIuIEdldCBpbnZhbGlkIHJlZ2lzdHJhdGlvbiBzdGF0dXMgZnJvbSBGSURPIFUyRiBzZXJ2ZXI
 iDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICAgICAgcm
 V0dXJuIFRydWUNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcHJpbnQgIlUyR
 i4gUHJlcGFyZSBmb3Igc3RlcCAyLiBBdXRoZW50aWNhdGlvZCBtZXRob2QgaXMgaW52YWxpZCIN
 CiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICAgICAgcmV0dXJuIEZhbHN
 lDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgIGRlZiBwcm
 VwYXJlRm9yU3RlcChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcywgcmVxdWVzdFBhcmFtZ
 XRlcnMsIHN0ZXApOg0KICAgICAgICBjb250ZXh0ID0gQ29udGV4dHMuZ2V0RXZlbnRDb250ZXh0
 KCkNCg0KICAgICAgICBpZiAoc3RlcCA9PSAxKToNCiAgICAgICAgICAgIHJldHVybiBUcnVlDQo
 gICAgICAgIGVsaWYgKHN0ZXAgPT0gMik6DQogICAgICAgICAgICBwcmludCAiVTJGLiBQcmVwYX
 JlIGZvciBzdGVwIDIiDQoNCiAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gSWRlbnRpdHkuaW5zd
 GFuY2UoKS5nZXRDcmVkZW50aWFscygpDQogICAgICAgICAgICB1c2VyID0gY3JlZGVudGlhbHMu
 Z2V0VXNlcigpDQoNCiAgICAgICAgICAgIGlmICh1c2VyID09IE5vbmUpOg0KICAgICAgICAgICA
 gICAgIHByaW50ICJVMkYuIFByZXBhcmUgZm9yIHN0ZXAgMi4gRmFpbGVkIHRvIGRldGVybWluZS
 B1c2VyIG5hbWUiDQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAgI
 HUyZl9hcHBsaWNhdGlvbl9pZCA9IGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzLmdldCgidTJmX2Fw
 cGxpY2F0aW9uX2lkIikuZ2V0VmFsdWUyKCkNCg0KICAgICAgICAgICAgIyBDaGVjayBpZiB1c2V
 yIGhhdmUgcmVnaXN0ZXJlZCBkZXZpY2VzDQogICAgICAgICAgICBkZXZpY2VSZWdpc3RyYXRpb2
 5TZXJ2aWNlID0gRGV2aWNlUmVnaXN0cmF0aW9uU2VydmljZS5pbnN0YW5jZSgpDQoNCiAgICAgI
 CAgICAgIHVzZXJJbnVtID0gdXNlci5nZXRBdHRyaWJ1dGUoImludW0iKQ0KDQogICAgICAgICAg
 ICBhdXRoZW50aWNhdGlvblJlcXVlc3QgPSBOb25lDQoNCiAgICAgICAgICAgIGRldmljZVJlZ2l
 zdHJhdGlvbnMgPSBkZXZpY2VSZWdpc3RyYXRpb25TZXJ2aWNlLmZpbmRVc2VyRGV2aWNlUmVnaX
 N0cmF0aW9ucyh1c2VySW51bSwgdTJmX2FwcGxpY2F0aW9uX2lkKQ0KICAgICAgICAgICAgaWYgK
 GRldmljZVJlZ2lzdHJhdGlvbnMuc2l6ZSgpID4gMCk6DQogICAgICAgICAgICAgICAgcHJpbnQg
 IlUyRi4gUHJlcGFyZSBmb3Igc3RlcCAyLiBDYWxsIEZJRE8gVTJGIGluIG9yZGVyIHRvIHN0YXJ
 0IGF1dGhlbnRpY2F0aW9uIHdvcmtmbG93Ig0KDQogICAgICAgICAgICAgICAgdHJ5Og0KICAgIC
 AgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblJlcXVlc3RTZXJ2aWNlID0gRmlkb1UyZkNsa
 WVudEZhY3RvcnkuaW5zdGFuY2UoKS5jcmVhdGVBdXRoZW50aWNhdGlvblJlcXVlc3RTZXJ2aWNl
 KHNlbGYubWV0YURhdGFDb25maWd1cmF0aW9uKQ0KICAgICAgICAgICAgICAgICAgICBhdXRoZW5
 0aWNhdGlvblJlcXVlc3QgPSBhdXRoZW50aWNhdGlvblJlcXVlc3RTZXJ2aWNlLnN0YXJ0QXV0aG
 VudGljYXRpb24odXNlci5nZXRVc2VySWQoKSwgdTJmX2FwcGxpY2F0aW9uX2lkKQ0KICAgICAgI
 CAgICAgICAgIGV4Y2VwdCBDbGllbnRSZXNwb25zZUZhaWx1cmUsIGV4Og0KICAgICAgICAgICAg
 ICAgICAgICBpZiAoZXguZ2V0UmVzcG9uc2UoKS5nZXRSZXNwb25zZVN0YXR1cygpICE9IFJlc3B
 vbnNlLlN0YXR1cy5OT1RfRk9VTkQpOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIl
 UyRi4gUHJlcGFyZSBmb3Igc3RlcCAyLiBGYWlsZWQgdG8gc3RhcnQgYXV0aGVudGljYXRpb24gd
 29ya2Zsb3cuIEV4Y2VwdGlvbjoiLCBzeXMuZXhjX2luZm8oKVsxXQ0KICAgICAgICAgICAgICAg
 ICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAgIHByaW50ICJVMkYuIFByZXBhcmU
 gZm9yIHN0ZXAgMi4gQ2FsbCBGSURPIFUyRiBpbiBvcmRlciB0byBzdGFydCByZWdpc3RyYXRpb2
 4gd29ya2Zsb3ciDQogICAgICAgICAgICByZWdpc3RyYXRpb25SZXF1ZXN0U2VydmljZSA9IEZpZ
 G9VMmZDbGllbnRGYWN0b3J5Lmluc3RhbmNlKCkuY3JlYXRlUmVnaXN0cmF0aW9uUmVxdWVzdFNl
 cnZpY2Uoc2VsZi5tZXRhRGF0YUNvbmZpZ3VyYXRpb24pDQogICAgICAgICAgICByZWdpc3RyYXR
 pb25SZXF1ZXN0ID0gcmVnaXN0cmF0aW9uUmVxdWVzdFNlcnZpY2Uuc3RhcnRSZWdpc3RyYXRpb2
 4odXNlci5nZXRVc2VySWQoKSwgdTJmX2FwcGxpY2F0aW9uX2lkKQ0KDQogICAgICAgICAgICBjb
 250ZXh0LnNldCgiZmlkb191MmZfYXV0aGVudGljYXRpb25fcmVxdWVzdCIsIFNlcnZlclV0aWwu
 YXNKc29uKGF1dGhlbnRpY2F0aW9uUmVxdWVzdCkpDQogICAgICAgICAgICBjb250ZXh0LnNldCg
 iZmlkb191MmZfcmVnaXN0cmF0aW9uX3JlcXVlc3QiLCBTZXJ2ZXJVdGlsLmFzSnNvbihyZWdpc3
 RyYXRpb25SZXF1ZXN0KSkNCg0KICAgICAgICAgICAgcmV0dXJuIFRydWUNCiAgICAgICAgZWxpZ
 iAoc3RlcCA9PSAzKToNCiAgICAgICAgICAgIHByaW50ICJVMkYuIFByZXBhcmUgZm9yIHN0ZXAg
 MiINCg0KICAgICAgICAgICAgcmV0dXJuIFRydWUNCiAgICAgICAgZWxzZToNCiAgICAgICAgICA
 gIHJldHVybiBGYWxzZQ0KDQogICAgZGVmIGdldEV4dHJhUGFyYW1ldGVyc0ZvclN0ZXAoc2VsZi
 wgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMsIHN0ZXApOg0KICAgICAgICByZXR1cm4gTm9uZQ0KD
 QogICAgZGVmIGdldENvdW50QXV0aGVudGljYXRpb25TdGVwcyhzZWxmLCBjb25maWd1cmF0aW9u
 QXR0cmlidXRlcyk6DQogICAgICAgIHJldHVybiAyDQoNCiAgICBkZWYgZ2V0UGFnZUZvclN0ZXA
 oc2VsZiwgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMsIHN0ZXApOg0KICAgICAgICBpZiAoc3RlcC
 A9PSAyKToNCiAgICAgICAgICAgIHJldHVybiAiL2F1dGgvdTJmL2xvZ2luLnhodG1sIg0KDQogI
 CAgICAgIHJldHVybiAiIg0KDQogICAgZGVmIGxvZ291dChzZWxmLCBjb25maWd1cmF0aW9uQXR0
 cmlidXRlcywgcmVxdWVzdFBhcmFtZXRlcnMpOg0KICAgICAgICByZXR1cm4gVHJ1ZQ0K
oxScriptType: person_authentication
programmingLanguage: python

dn: inum=%(inumOrg)s!DAA9.B788,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Client Registration script
displayName: client_registration
gluuStatus: false
inum: %(inumOrg)s!DAA9.B788
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS5jbGllbnQgaW1wb
 3J0IENsaWVudFJlZ2lzdHJhdGlvblR5cGUNCmZyb20gb3JnLnhkaS51dGlsIGltcG9ydCBTdHJp
 bmdIZWxwZXIsIEFycmF5SGVscGVyDQpmcm9tIG9yZy54ZGkub3hhdXRoLnNlcnZpY2UgaW1wb3J
 0IFNjb3BlU2VydmljZQ0KZnJvbSBqYXZhLnV0aWwgaW1wb3J0IEFycmF5cywgQXJyYXlMaXN0DQ
 oNCmltcG9ydCBqYXZhDQoNCmNsYXNzIENsaWVudFJlZ2lzdHJhdGlvbihDbGllbnRSZWdpc3RyY
 XRpb25UeXBlKToNCiAgICBkZWYgX19pbml0X18oc2VsZiwgY3VycmVudFRpbWVNaWxsaXMpOg0K
 ICAgICAgICBzZWxmLmN1cnJlbnRUaW1lTWlsbGlzID0gY3VycmVudFRpbWVNaWxsaXMNCg0KICA
 gIGRlZiBpbml0KHNlbGYsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICAgICAgcHJpbn
 QgIkNsaWVudCByZWdpc3RyYXRpb24uIEluaXRpYWxpemF0aW9uIg0KDQogICAgICAgIHNlbGYuc
 2NvcGVTZXJ2aWNlID0gU2NvcGVTZXJ2aWNlLmluc3RhbmNlKCkNCg0KICAgICAgICBwcmludCAi
 Q2xpZW50IHJlZ2lzdHJhdGlvbi4gSW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Ig0KDQogICAgICA
 gIHJldHVybiBUcnVlICAgDQoNCiAgICBkZWYgZGVzdHJveShzZWxmLCBjb25maWd1cmF0aW9uQX
 R0cmlidXRlcyk6DQogICAgICAgIHByaW50ICJDbGllbnQgcmVnaXN0cmF0aW9uLiBEZXN0cm95I
 g0KICAgICAgICBwcmludCAiQ2xpZW50IHJlZ2lzdHJhdGlvbi4gRGVzdHJveWVkIHN1Y2Nlc3Nm
 dWxseSINCiAgICAgICAgcmV0dXJuIFRydWUgICANCg0KICAgICMgVXBkYXRlIGNsaWVudCBlbnR
 yeSBiZWZvcmUgcGVyc2lzdGVudCBpdA0KICAgICMgICByZWdpc3RlclJlcXVlc3QgaXMgb3JnLn
 hkaS5veGF1dGguY2xpZW50LlJlZ2lzdGVyUmVxdWVzdA0KICAgICMgICBjbGllbnQgaXMgb3JnL
 nhkaS5veGF1dGgubW9kZWwucmVnaXN0cmF0aW9uLkNsaWVudA0KICAgICMgICBjb25maWd1cmF0
 aW9uQXR0cmlidXRlcyBpcyBqYXZhLnV0aWwuTWFwPFN0cmluZywgU2ltcGxlQ3VzdG9tUHJvcGV
 ydHk+DQogICAgZGVmIHVwZGF0ZUNsaWVudChzZWxmLCByZWdpc3RlclJlcXVlc3QsIGNsaWVudC
 wgY29uZmlndXJhdGlvbkF0dHJpYnV0ZXMpOg0KICAgICAgICBwcmludCAiQ2xpZW50IHJlZ2lzd
 HJhdGlvbi4gVXBkYXRlQ2xpZW50IG1ldGhvZCINCg0KICAgICAgICByZWRpcmVjdFVyaXMgPSBj
 bGllbnQuZ2V0UmVkaXJlY3RVcmlzKCkNCiAgICAgICAgcHJpbnQgIkNsaWVudCByZWdpc3RyYXR
 pb24uIFJlZGlyZWN0IFVyaXM6IiwgcmVkaXJlY3RVcmlzDQoNCiAgICAgICAgYWRkQWRkcmVzc1
 Njb3BlID0gRmFsc2UNCiAgICAgICAgZm9yIHJlZGlyZWN0VXJpIGluIHJlZGlyZWN0VXJpczoNC
 iAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuZXF1YWxzSWdub3JlQ2FzZShyZWRpcmVjdFVy
 aSwgImh0dHBzOi8vY2xpZW50LmV4YW1wbGUuY29tL2V4YW1wbGUxIikpOg0KICAgICAgICAgICA
 gICAgIGFkZEFkZHJlc3NTY29wZSA9IFRydWUNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgIC
 AgICANCiAgICAgICAgcHJpbnQgIkNsaWVudCByZWdpc3RyYXRpb24uIElzIGFkZCBhZGRyZXNzI
 HNjb3BlOiIsIGFkZEFkZHJlc3NTY29wZQ0KDQogICAgICAgIGlmIChhZGRBZGRyZXNzU2NvcGUp
 Og0KICAgICAgICAgICAgY3VycmVudFNjb3BlcyA9IGNsaWVudC5nZXRTY29wZXMoKQ0KICAgICA
 gICAgICAgcHJpbnQgIkNsaWVudCByZWdpc3RyYXRpb24uIEN1cnJlbnQgc2NvcGVzOiIsIGN1cn
 JlbnRTY29wZXMNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgYWRkcmVzc1Njb3BlID0gc2VsZ
 i5zY29wZVNlcnZpY2UuZ2V0U2NvcGVCeURpc3BsYXlOYW1lKCJhZGRyZXNzIikNCiAgICAgICAg
 ICAgIG5ld1Njb3BlcyA9IEFycmF5SGVscGVyLmFkZEl0ZW1Ub1N0cmluZ0FycmF5KGN1cnJlbnR
 TY29wZXMsIGFkZHJlc3NTY29wZS5nZXREbigpKQ0KICAgIA0KICAgICAgICAgICAgcHJpbnQgIk
 NsaWVudCByZWdpc3RyYXRpb24uIFJlc3VsdCBzY29wZXM6IiwgbmV3U2NvcGVzDQogICAgICAgI
 CAgICBjbGllbnQuc2V0U2NvcGVzKG5ld1Njb3BlcykNCg0KICAgICAgICByZXR1cm4gVHJ1ZQ0K
 DQogICAgZGVmIGxvZ291dChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcywgcmVxdWVzdFB
 hcmFtZXRlcnMpOg0KICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgZGVmIGdldEFwaVZlcnNpb2
 4oc2VsZik6DQogICAgICAgIHJldHVybiAxDQo=
oxScriptType: client_registration
programmingLanguage: python

dn: inum=%(inumOrg)s!DAA9.B789,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Application Session script
displayName: application_session
gluuStatus: false
inum: %(inumOrg)s!DAA9.B789
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS5zZXNzaW9uIGltc
 G9ydCBBcHBsaWNhdGlvblNlc3Npb25UeXBlDQpmcm9tIG9yZy54ZGkudXRpbCBpbXBvcnQgU3Ry
 aW5nSGVscGVyLCBBcnJheUhlbHBlcg0KZnJvbSBqYXZhLnV0aWwgaW1wb3J0IEFycmF5cywgQXJ
 yYXlMaXN0DQoNCmltcG9ydCBqYXZhDQoNCmNsYXNzIEFwcGxpY2F0aW9uU2Vzc2lvbihBcHBsaW
 NhdGlvblNlc3Npb25UeXBlKToNCiAgICBkZWYgX19pbml0X18oc2VsZiwgY3VycmVudFRpbWVNa
 WxsaXMpOg0KICAgICAgICBzZWxmLmN1cnJlbnRUaW1lTWlsbGlzID0gY3VycmVudFRpbWVNaWxs
 aXMNCg0KICAgIGRlZiBpbml0KHNlbGYsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICA
 gICAgcHJpbnQgIkFwcGxpY2F0aW9uIHNlc3Npb24uIEluaXRpYWxpemF0aW9uIg0KICAgICAgIC
 BwcmludCAiQXBwbGljYXRpb24gc2Vzc2lvbi4gSW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Ig0KD
 QogICAgICAgIHJldHVybiBUcnVlICAgDQoNCiAgICBkZWYgZGVzdHJveShzZWxmLCBjb25maWd1
 cmF0aW9uQXR0cmlidXRlcyk6DQogICAgICAgIHByaW50ICJBcHBsaWNhdGlvbiBzZXNzaW9uLiB
 EZXN0cm95Ig0KICAgICAgICBwcmludCAiQXBwbGljYXRpb24gc2Vzc2lvbi4gRGVzdHJveWVkIH
 N1Y2Nlc3NmdWxseSINCiAgICAgICAgcmV0dXJuIFRydWUgICANCg0KICAgIGRlZiBnZXRBcGlWZ
 XJzaW9uKHNlbGYpOg0KICAgICAgICByZXR1cm4gMQ0KDQogICAgIyBBcHBsaWNhdGlvbiBjYWxs
 cyBpdCBhdCBlbmQgc2Vzc2lvbiByZXF1ZXN0IHRvIGFsbG93IG5vdGlmeSAzcmQgcGFydCBzeXN
 0ZW1zDQogICAgIyAgIGh0dHBSZXF1ZXN0IGlzIGphdmF4LnNlcnZsZXQuaHR0cC5IdHRwU2Vydm
 xldFJlcXVlc3QNCiAgICAjICAgYXV0aG9yaXphdGlvbkdyYW50IGlzIG9yZy54ZGkub3hhdXRoL
 m1vZGVsLmNvbW1vbi5BdXRob3JpemF0aW9uR3JhbnQNCiAgICAjICAgY29uZmlndXJhdGlvbkF0
 dHJpYnV0ZXMgaXMgamF2YS51dGlsLk1hcDxTdHJpbmcsIFNpbXBsZUN1c3RvbVByb3BlcnR5Pg0
 KICAgIGRlZiBlbmRTZXNzaW9uKHNlbGYsIGh0dHBSZXF1ZXN0LCBhdXRob3JpemF0aW9uR3Jhbn
 QsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICAgICAgcHJpbnQgIkFwcGxpY2F0aW9uI
 HNlc3Npb24uIFN0YXJ0aW5nIGV4dGVybmFsIHNlc3Npb24gZW5kIg0KDQogICAgICAgIHByaW50
 ICJBcHBsaWNhdGlvbiBzZXNzaW9uLiBFeHRlcm5hbCBzZXNzaW9uIGVuZGVkIHN1Y2Nlc3NmdWx
 seSINCiAgICAgICAgcmV0dXJuIFRydWUNCg==
oxScriptType: application_session
programmingLanguage: python

dn: inum=%(inumOrg)s!031C.5621,ou=scripts,o=%(inumOrg)s,o=gluu
objectClass: oxCustomScript
objectClass: top
description: Sample Dynamic Scope script
displayName: dynamic_scope
gluuStatus: true
inum: %(inumOrg)s!031C.5621
oxLevel: 100
oxRevision: 1
oxScript:: ZnJvbSBvcmcueGRpLm1vZGVsLmN1c3RvbS5zY3JpcHQudHlwZS5zY29wZSBpbXBvcnQgRHluYW1pY1Njb3BlVHlwZQ0KZnJvbSBvcmcueGRpLnV0aWwgaW1wb3J0IFN0cmluZ0hlbHBlciwgQXJyYXlIZWxwZXINCmZyb
 20gamF2YS51dGlsIGltcG9ydCBBcnJheXMsIEFycmF5TGlzdA0KDQppbXBvcnQgamF2YQ0KDQpjbGFzcyBEeW5hbWljU2NvcGUoRHluYW1pY1Njb3BlVHlwZSk6DQogICAgZGVmIF9faW5pdF9fKHNlbGYsIGN1cnJlbnRUaW1lTWls
 bGlzKToNCiAgICAgICAgc2VsZi5jdXJyZW50VGltZU1pbGxpcyA9IGN1cnJlbnRUaW1lTWlsbGlzDQoNCiAgICBkZWYgaW5pdChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcyk6DQogICAgICAgIHByaW50ICJEeW5hbWljIHN
 jb3BlLiBJbml0aWFsaXphdGlvbiINCg0KICAgICAgICBwcmludCAiRHluYW1pYyBzY29wZS4gSW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Ig0KDQogICAgICAgIHJldHVybiBUcnVlICAgDQoNCiAgICBkZWYgZGVzdHJveShzZWxmLC
 Bjb25maWd1cmF0aW9uQXR0cmlidXRlcyk6DQogICAgICAgIHByaW50ICJEeW5hbWljIHNjb3BlLiBEZXN0cm95Ig0KICAgICAgICBwcmludCAiRHluYW1pYyBzY29wZS4gRGVzdHJveWVkIHN1Y2Nlc3NmdWxseSINCiAgICAgICAgc
 mV0dXJuIFRydWUgICANCg0KICAgICMgVXBkYXRlIEpzb24gV2ViIHRva2VuIGJlZm9yZSBzaWduaW5nL2VuY3J5cHJpbmcgaXQNCiAgICAjICAgZHluYW1pY1Njb3BlQ29udGV4dCBpcyBvcmcueGRpLm94YXV0aC5zZXJ2aWNlLmV4
 dGVybmFsLmNvbnRleHQuRHluYW1pY1Njb3BlRXh0ZXJuYWxDb250ZXh0DQogICAgIyAgIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzIGlzIGphdmEudXRpbC5NYXA8U3RyaW5nLCBTaW1wbGVDdXN0b21Qcm9wZXJ0eT4NCiAgICBkZWY
 gdXBkYXRlKHNlbGYsIGR5bmFtaWNTY29wZUNvbnRleHQsIGNvbmZpZ3VyYXRpb25BdHRyaWJ1dGVzKToNCiAgICAgICAgcHJpbnQgIkR5bmFtaWMgc2NvcGUuIFVwZGF0ZSBtZXRob2QiDQoNCiAgICAgICAgZHluYW1pY1Njb3Blcy
 A9IGR5bmFtaWNTY29wZUNvbnRleHQuZ2V0RHluYW1pY1Njb3BlcygpDQogICAgICAgIHVzZXIgPSBkeW5hbWljU2NvcGVDb250ZXh0LmdldFVzZXIoKQ0KICAgICAgICBqc29uV2ViUmVzcG9uc2UgPSBkeW5hbWljU2NvcGVDb250Z
 Xh0LmdldEpzb25XZWJSZXNwb25zZSgpDQogICAgICAgIGNsYWltcyA9IGpzb25XZWJSZXNwb25zZS5nZXRDbGFpbXMoKQ0KDQogICAgICAgICMgSXRlcmF0ZSB0aHJvdWdoIGxpc3Qgb2YgZHluYW1pYyBzY29wZXMgaW4gb3JkZXIg
 dG8gYWRkIGN1c3RvbSBzY29wZXMgaWYgbmVlZGVkDQogICAgICAgIHByaW50ICJEeW5hbWljIHNjb3BlLiBEeW5hbWljIHNjb3BlczoiLCBkeW5hbWljU2NvcGVzDQogICAgICAgIGZvciBkeW5hbWljU2NvcGUgaW4gZHluYW1pY1N
 jb3BlczoNCiAgICAgICAgICAgICMgQWRkIG9yZ2FuaXphdGlvbiBuYW1lIGlmIHRoZXJlIGlzIHNjb3BlID0gb3JnX25hbWUNCiAgICAgICAgICAgIGlmIChTdHJpbmdIZWxwZXIuZXF1YWxzSWdub3JlQ2FzZShkeW5hbWljU2NvcG
 UsICJvcmdfbmFtZSIpKToNCiAgICAgICAgICAgICAgICBjbGFpbXMuc2V0Q2xhaW0oIm9yZ19uYW1lIiwgIkdsdXUsIEluYy4iKQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgICAgICMgQWRkIHdvcmsgcGhvb
 mUgaWYgdGhlcmUgaXMgc2NvcGUgPSB3b3JrX3Bob25lDQogICAgICAgICAgICBpZiAoU3RyaW5nSGVscGVyLmVxdWFsc0lnbm9yZUNhc2UoZHluYW1pY1Njb3BlLCAid29ya19waG9uZSIpKToNCiAgICAgICAgICAgICAgICB3b3Jr
 UGhvbmUgPSB1c2VyLmdldEF0dHJpYnV0ZSgidGVsZXBob25lTnVtYmVyIik7DQogICAgICAgICAgICAgICAgaWYgKFN0cmluZ0hlbHBlci5pc05vdEVtcHR5KHdvcmtQaG9uZSkpOg0KICAgICAgICAgICAgICAgICAgICBjbGFpbXM
 uc2V0Q2xhaW0oIndvcmtfcGhvbmUiLCB3b3JrUGhvbmUpDQogICAgICAgICAgICAgICAgY29udGludWUNCg0KICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgZGVmIGxvZ291dChzZWxmLCBjb25maWd1cmF0aW9uQXR0cmlidXRlcy
 wgcmVxdWVzdFBhcmFtZXRlcnMpOg0KICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgZGVmIGdldEFwaVZlcnNpb24oc2VsZik6DQogICAgICAgIHJldHVybiAxDQo=
oxScriptType: dynamic_scope
programmingLanguage: python
